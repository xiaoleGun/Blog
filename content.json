{"posts":[{"title":"åä¸ºææœºæŒ‡åŒ—(å°ç™½å‘)","text":"å‰è¨€21æ—¥å°±æ­£å¼å¼€å­¦äº†ï¼Œå·²ç»åˆäºŒä¸‹äº†ï¼Œä¸€å¤©è¦ä»7:30ä¸Šåˆ°20:30ï¼Œç”Ÿåœ°ç»“ä¸šè€ƒä¹Ÿå¿«äº†ï¼Œè¿˜æœ‰å››ä¸ªæœˆï¼Œä»¥åä¹Ÿæ²¡æ—¶é—´å†™ä¸€ç¯‡é€»è¾‘è¿˜ç®—æ¸…æ¥šï¼Œå†…å®¹ä¸°å¯Œè¯¦ç»†ï¼Œæ¶µç›–è®¸å¤šçŸ¥è¯†çš„æ–‡ç« æˆ–åšå®¢ï¼Ÿä¸‹æ¬¡è¿™ä¹ˆé•¿çš„å›¾æ–‡/åšå®¢å°±è¦æš‘å‡è§äº†ã€‚ å‡†å¤‡ä»€ä¹ˆï¼Ÿå°ç™½åªéœ€è¦ä¸€å°å¯ä»¥è¿è¡ŒWindows10çš„ç”µè„‘å°±å¥½åŠ›ã€‚ä¸€äº›æå®¢æƒ³è¦è¿›é˜¶æ“ä½œå¯ä»¥å‡†å¤‡ä¸€å°å®‰è£…äº†Macã€Ubuntuã€Winçš„ç”µè„‘ è§£é” è¿™éƒ½ä¸ä¼šå°ç™½å‘ä¹Ÿæ‹¯æ•‘ä¸äº†ä½ æƒ¹ã€‚ é™çº§ Emui 10åŠä»¥ä¸Šç‰ˆæœ¬éœ€è¦é™çº§ï¼ŒKirin960ç³»ä¸éœ€è¦ é™çº§åˆ°Emui 10ä¹‹å‰çš„Emui 9æœ€åä¸€ä¸ªç‰ˆæœ¬ æ¨èç”µè„‘ç³»ç»Ÿä¸ºWindows10åŠä»¥ä¸Šï¼ŒMacæ˜¯ä¸èƒ½é™çº§çš„ï¼Œä½†å¯ä»¥è§£BLé”ï¼Œåˆ·GSIç­‰ã€ã€ã€ æ‰“å¼€ç”µè„‘ï¼Œå¸è½½åŸæ¥çš„åä¸ºåŠ©æ‰‹ï¼Œä¸‹è½½HiSuite Proxyå’ŒHiSuite V11.0.0.530OVEè§£å‹å¹¶å®‰è£…ï¼Œå…ˆä¸è¦æ‰“å¼€ï¼Œå…ˆä¸è¦æ‰“å¼€ï¼Œå…ˆä¸è¦æ‰“å¼€ã€‚ æ‰‹æœºè¿›å…¥æ‹¨å·è¾“å…¥*#*#2846579#*#*ä¾æ¬¡è¿›å…¥å•æ¿ä¿¡æ¯æŸ¥è¯¢â€“&gt;ç‰ˆæœ¬ä¿¡æ¯æ‰¾åˆ°CVersion:æ˜¯ä»€ä¹ˆC00æˆ–å…¶å®ƒçš„ï¼Œè¿™æ˜¯è¿è¥å•†å®šåˆ¶ç‰ˆæœ¬å·ã€‚ è¿›å…¥Huawei Firm Finderæœç´¢ä½ çš„æœºå‹å‹å·ï¼Œæ‰¾åˆ°å¤§åŒ…å°åŒ…ï¼Œå¦‚å›¾ã€‚è¿™ä¸ªå¯¹ä¸å¯¹å…¨å‡­ä½ æ„Ÿè§‰ï¼ˆ æ‰“å¼€HiSuite Proxyï¼Œæ·»åŠ å…¨é‡åŒ… ç„¶åå†åˆ°åˆšåˆšç½‘ç«™ä¸Šä¾æ¬¡å°†ä¸‰ä¸ªåŒ…ç‚¹å‡»Add Rom æ‰‹æœºè¿æ¥ç”µè„‘ä½¿ç”¨ä¸€æ¡ç¨³å®šçš„çº¿ï¼Œæ‰‹æœºæ‰“å¼€å¼€å‘è€…æ¨¡å¼(è¿›å…¥å…³äºæ‰‹æœºè¿ç»­ç‚¹å‡»ç‰ˆæœ¬å·5æ¬¡) ç‚¹å‡»HiSuite Proxyçš„Setup å®ƒä¼šè‡ªåŠ¨å¼¹å‡ºæ¥åä¸ºæ‰‹æœºåŠ©æ‰‹ï¼Œå¦‚æœæ²¡æœ‰å¼¹å‡ºè¯·åœ¨æ¡Œé¢ä¸Šæ‰“å¼€å®ƒï¼Œä¸€è·¯ç»§ç»­å…è®¸å®ƒåœ¨æ‰‹æœºä¸Šå®‰è£…ã€Šæ‰‹æœºåŠ©æ‰‹ã€‹ï¼Œç„¶åè¾“å…¥éªŒè¯ç è¿æ¥ã€‚ ç‚¹å‡»ç³»ç»Ÿæ›´æ–°ï¼Œå¦‚æœå‰é¢çš„æ­¥éª¤æ²¡æœ‰å‡ºé”™çš„è¯ï¼Œä¸å‡ºæ„å¤–å®ƒä¼šå‡ºç°ä½ é€‰æ‹©çš„ç‰ˆæœ¬ã€‚ ç­‰å¾…å®ƒä¸‹è½½ã€ä¼ å…¥å®‰è£…åŒ…åˆ°æ‰‹æœºã€æ‰‹æœºè‡ªåŠ¨å®‰è£…ã€å·¥å‚çº§æ ¼å¼åŒ–ã€å¼€æœºã€‚ è·å–è§£é”ç å¹¶è§£é”æ¸ é“1ã€å¯ä»¥åœ¨æ·˜å®ã€å’¸é±¼èŠ±ä¸ªäºŒä¸‰åè·å–è§£é”ç ï¼Œè‰¯å¿ƒå•†å®¶å¯èƒ½ä¼šç”¨UAndroidç»™ä½ ä¸€é”®è§£é”ï¼Œä½†æˆ‘å»ºè®®ä½ è®©ä»–ä»¬ç»™ä½ è·å–è§£é”ç ï¼Œå› ä¸ºä»¥é˜²æ—¥åå›é”æˆ–åˆ·æŒ‚äº†ï¼Œæ•‘ç –ä¹‹åå›é”äº†ï¼Œæ€»ä¹‹è§£é”ç ä¸€åŠ³æ°¸é€¸ã€‚ 2ã€æ‰¾é…·å®‰@æŸè´¼PYä¸€ä¸‹ ä¸Šæ‰‹æ“ä½œå®‰è£…ADB æœ‰äº†è§£é”ç å°±å¯ä»¥å¼€å§‹è¿™ä¸€æ­¥äº†ã€‚ Winç‰ˆ å…ˆç‚¹å‡»è¿™é‡Œä¸‹è½½ADBï¼Œè§£å‹åˆ°Cç›˜æ ¹ç›®å½•ï¼Œå¦‚å›¾ç„¶ååœ¨ç”µè„‘çš„å¼€å§‹èœå•æˆ–æœç´¢æ¡†æœç´¢ç”µè„‘ä¿¡æ¯ï¼Œè¿›å…¥å¹¶æ‹‰åˆ°æœ€ä¸‹é€‰æ‹©é«˜çº§ç³»ç»Ÿè®¾ç½® ç‚¹å‡»ç¯å¢ƒå˜é‡ åœ¨ç¬¬äºŒä¸ªå¯¹è¯æ (ç³»ç»Ÿå˜é‡)ä¸‹æ»‘æ‰¾åˆ°Path åŒå‡»è¿›å»ï¼Œåœ¨å³é¢çš„å¯¹è¯æ¡†ç‚¹å‡»æ–°å»ºè¾“å…¥%adb% æŒ‰ç¡®å®šè¿”å›åˆ°ä¸Šä¸€ä¸ªèœå•ï¼Œåœ¨ç¬¬äºŒä¸ªå¯¹è¯æ (ç³»ç»Ÿå˜é‡)ï¼Œç‚¹å‡»æ–°å»ºï¼Œå˜é‡åè¾“å…¥adbï¼Œå˜é‡å€¼è¾“å…¥åˆšåˆšè®©ä½ æŠŠè§£å‹åçš„æ–‡ä»¶å¤¹æ”¾çš„è·¯å¾„ã€‚ æŒ‰ç¡®å®šç„¶åå¯ä»¥å»Powershell or CMDæµ‹è¯•ä½ çš„ç¯å¢ƒå˜é‡åŠ›ä¸æ˜¯Macçš„å¯ä»¥è·³è¿‡å»åˆ·æœºç¯‡äº† Macç‰ˆ ä»ç°åœ¨å¼€å§‹ä¼šåœ¨Macã€Ubuntuå®Œæˆå†™ä½œäº†ã€‚å› ä¸ºå°ç™½ç¯‡å’Œwiné€šç”¨ï¼Œè¿›é˜¶ç¯‡éœ€è¦ubuntuã€‚ å®‰è£…Homebrewï¼Œæ‰“å¼€ç»ˆç«¯è¾“å…¥1/bin/zsh -c &quot;$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)&quot; è¾“å…¥å¯†ç ï¼Œä¸€è·¯y(ç¡®å®š)ç»“æŸä¹‹åè¾“å…¥åœ¨ç»ˆç«¯è¾“å…¥ 1brew install cask android-platform-tools (å†·çŸ¥è¯†ï¼Œä¸çŸ¥ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹brewéœ€è¦å°†caskæ”¾åœ¨installæ‰å¯ä»¥æ­£å¸¸å®‰è£… Linuxç³»ç‰ˆ ï¼Ÿï¼Ÿï¼Ÿä½ éƒ½Linuxè¿˜ç”¨æ•™å—ï¼Ÿ è§£é”BL è§£é” è§£é”å®ŒBLå¼€æœºå‡ºç°Your device bootingâ€¦éƒ½æ˜¯æ­£å¸¸ç°è±¡ æ‰‹æœºé‡å¯åˆ°Fastboot æ‰“å¼€ä½ åˆšåˆšé…ç½®å¥½çš„Powershellæˆ–CMDæˆ–Macç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥è§£é” 1fastboot oem unlock #16ä½æ•°å­—è§£é”ç  å¦‚æœä¸å‡ºæ„å¤–çš„è¯ä½ çš„æ‰‹æœºä¼šè¿›å…¥ä¸‹é¢çš„ç•Œé¢ ä½¿ç”¨éŸ³é‡é”®é€‰æ‹©Yesï¼Œç„¶åå®ƒä¼šé‡å¯åˆ°recæ ¼å¼åŒ–Dataç»“æŸåé‡å¯å›fastbootæ£€æŸ¥PHONE Lockæ˜¯å¦å˜æˆPHONE Unlock å›é” 1fastboot oem relock #16ä½æ•°å­—è§£é”ç  éƒ¨åˆ†æœºå‹å¯èƒ½æ˜¯ 1fastboot oem lock #16ä½æ•°å­—è§£é”ç  åˆ·æœº é‡ç‚¹ä»‹ç»å¦‚ä½•åˆ·å…¥Phh Treble å¼€å§‹åˆ†ä¸ºå°ç™½ç¯‡å’Œè¿›é˜¶ç¯‡ å°ç™½ç¯‡è·å–GSI å…ˆåˆ°è¿™é‡ŒGeneric System Image Listéšä¾¿æ‰¾ä¸€ä¸ªä½ å–œæ¬¢çš„Android9-Android12é•œåƒï¼Œä¸ºarm64 ABåˆ†åŒºå³å¯ï¼Œå¦‚treble_arm64_bvSï¼Œå…¶ä¸­çš„bä¾¿æ˜¯ABåˆ†åŒºå†ç®€å•ä»‹ç»ä¸€ä¸‹åŸºäºPHHç¼–è¯‘ç±»å‹ ä¾‹å­: treble_arm64_bvS åˆ†è§£: arm64æŒ‡çš„æ˜¯å¹³å°æ¶æ„ã€bæŒ‡çš„æ˜¯åˆ†åŒºç±»å‹ï¼Œåœ¨è¿™é‡ŒæŒ‡ABï¼Œåä¹‹ä¸ºaï¼Œvæ˜¯æŒ‡vanillaï¼Œåä¹‹gæ˜¯æŒ‡gappsï¼ŒSæŒ‡suï¼Œåä¹‹ä¸ºN ä¸Šæ‰‹æ“ä½œ ä¸‹è½½å¥½ä½ å–œæ¬¢çš„Gsi(åä¸ºå®‰å“12æ˜¯è¦ä½¿ç”¨Magiskå¼•å¯¼çš„)æ‰‹æœºé‡å¯åˆ°fastbootï¼Œæ‰“å¼€ç»ˆç«¯è¾“å…¥1fastboot flash system #filename ç­‰å¾…å®Œæˆï¼Œè¾“å…¥1fastboot reboot æ‰‹æœºä¼šè‡ªåŠ¨é‡å¯ï¼Œè¿…é€ŸæŒ‰ä½éŸ³é‡ä¸Šé”®ï¼Œè¿›å…¥erecï¼Œé€‰æ‹©æ ¼å¼åŒ–Dataï¼Œè¾“å…¥yes æ ¼å¼åŒ–å®Œäº†ä»¥åå°±å¯ä»¥è¿›å…¥ç³»ç»Ÿäº†(ä»…é™Kirin960å’ŒKirin970çš„å®‰å“12ä»¥ä¸‹ï¼ŒKirin970çš„å®‰å“12éœ€è¦æ‰§è¡Œä¸€éRootæ‰å¯ä»¥å¼€æœº) è¿›é˜¶ç¯‡ å¦‚æœä½ è¿½æ±‚æè‡´æ€§èƒ½ï¼Œä¸”å¯¹systemåˆ†åŒºæ²¡æœ‰è¯»å†™éœ€æ±‚çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥è®©systemåˆ†åŒºæˆä¸ºEROFSåˆ†åŒºæ ¼å¼ã€‚ è¿™ä¸€æ­¥æˆ‘åªç®€å•å™è¿°ã€‚ ä¸ä»…ä»…é€‚ç”¨äºåä¸ºæ‰‹æœºï¼Œå¯¹äºå…¶å®ƒæ‰‹æœºï¼Œä½ çš„å†…æ ¸å¦‚æœæ˜¯4.19å¯ä»¥è‡ªå·±æ‰“patchå¯ç”¨erofsï¼Œ4.19ä»¥ä¸‹è‡ªè¡Œbackport EROFSä»‹ç»EROFSæ–‡ä»¶ç³»ç»Ÿï¼ˆè‹±æ–‡åï¼šEnhanced Read-Only File Systemï¼‰æ˜¯ä¸€ä¸ªLinuxæ“ä½œç³»ç»Ÿä¸‹çš„åªè¯»æ–‡ä»¶ç³»ç»Ÿï¼Œç”±åä¸ºå…¬å¸ç ”å‘ï¼Œç”¨æ¥åœ¨ä¿è¯åµŒå…¥å¼è®¾å¤‡ç«¯åˆ°ç«¯çš„æ€§èƒ½ä¸‹èŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œå°¤å…¶æ˜¯Androidè®¾å¤‡ã€‚ç›¸æ¯”å…¶ä»–é€šç”¨æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒä½¿ç”¨äº†å‡å°‘å…ƒæ•°æ®çš„è®¾è®¡ï¼Œå¹¶ä¸”æä¾›é€æ˜å‹ç¼©æŠ€æœ¯ç»™ç›®æ ‡æ–‡ä»¶ç³»ç»Ÿç”¨æˆ·ã€‚ ä¸Šæ‰‹æ“ä½œ å…ˆå‡†å¤‡å¥½ä¸€å°å®‰è£…äº†Ubuntu20.04åŠä»¥ä¸Šç‰ˆæœ¬çš„ç”µè„‘ï¼Œæˆ–è™šæ‹Ÿæœº(è™šæ‹Ÿæœºè‡ªè¡Œç ”ç©¶) å®‰è£…å¥½Git 12sudo apt-get updatesudo apt-get install git lz4 python3 m4 æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ 1234mkdir tmpcd tmpwget https://github.com/xiaoleGun/Blog/releases/download/erofs/mkfs.erofs.zipunzip mkfs.erofs.zip ç„¶åæ‰¾ä¸€ä¸ªä½ å–œæ¬¢çš„GSIå¤åˆ¶åˆ°tmpè¿™ä¸ªç›®å½•é‡Œå¦‚ä¸‹å›¾ ç»§ç»­è¾“å…¥ 1234mkdir msudo mount -o loop,ro filename mmkdir outsudo ./mkfs.erofs -zlz4 ./out/system.img ./m ç­‰å¾…å®ƒå°†ä½ çš„GSIæ‰“åŒ…ä¸ºerofsåˆ†åŒºæ ¼å¼ç„¶ååˆ°tmp/outç›®å½•æ‰¾åˆ°å®ƒç„¶ååˆ·å…¥åˆ°ä½ çš„æ‰‹æœºå§ Root ä½ æœ‰ä¸¤ä¸ªé€”å¾„æ¥è·å–Rootï¼Œä¸€ç§æ˜¯åœ¨Phh trebleè®¾ç½®â€“&gt;æ‚é¡¹â€“&gt;å¯ç”¨åŠ¨æ€è¶…çº§ç”¨æˆ·ï¼Œå¦ä¸€ç§æ˜¯å°†Recæ›¿æ¢ä¸ºMagiskã€‚ æˆ‘ä¸»è¦è®²è§£Magiskçš„æ–¹å¼ï¼Œç¬¬ä¸€ç§å°±æ˜¯ä¸€ä¸ªé€‰é¡¹ï¼Œå¾ˆç®€å• ä¸Šæ‰‹æ“ä½œ ä¸‹è½½Magsik(å¯èƒ½éœ€è¦æŒ‚t) æ‰“å¼€ç»ˆç«¯è¾“å…¥ 12fastboot flash recovery_ramdisk filenamefastboot reboot è¿…é€ŸæŒ‰éŸ³é‡ä¸Šé”®è¿›å…¥erecæ ¼å¼åŒ–Data è§£é‡Š: åªæ˜¯å¥—ç”¨åä¸ºæœºåˆ¶çš„å°ä¼ä¿©ï¼Œä½¿é‡å¯ä¹Ÿä¸ä¼šæ‰Magiskï¼ŒåŸç†æ˜¯erecæ ¼å¼åŒ–Dataéœ€è¦é‡å¯è‡³recï¼Œä½†recåˆ†åŒºå·²ç»è¢«æˆ‘ä»¬æ›¿æ¢ä¸ºMagiskï¼Œæ‰€ä»¥å®ƒæ¯æ¬¡å¼€æœºéƒ½ä¼šè®°ä½å®ƒéœ€è¦æ ¼å¼åŒ–Dataä¹Ÿå°±é»˜è®¤æ¯æ¬¡è¿›å…¥recï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é‡å¯ä¹Ÿä¸ä¼šæ‰Magiskã€‚ è¿›å…¥ç³»ç»Ÿå¦‚æœæ²¡æœ‰Magiskè¯·è‡ªè¡Œä¸‹è½½ä¸€ä¸ªMagiskå¯èƒ½éœ€è¦ä½ ä¿®å¤ç¯å¢ƒã€‚ä¿®å¤å³å¯ã€‚ è‡³äºæ¯æ¬¡å¼¹å‡ºç¬¬ä¸‰æ–¹suï¼Œè¯·ä¸‹è½½MTç®¡ç†å™¨åˆ°systen/xbinåˆ é™¤suå³å¯(æš‚æœªå‘ç°å‰¯ä½œç”¨) ä¼˜åŒ– ä¸»è¦æ˜¯æ¢å†…æ ¸åŠè°ƒåº¦ Kirin960ç‚¹å‡»ä¸‹è½½ç›˜å¤å†…æ ¸ä½œè€…ä¸º@éº¦éº¦è§‚é¥­çˆµå£«: Huawei P10, P10 Plus, Mate9, Mate 9 Proéª‘å£«: Honor 9, 8Pro (v9), Huawei Nova2S, tablet M5åªéœ€è¦æŒ‰ç…§å¯¹åº”çš„ç‰ˆæœ¬ä¸‹è½½å³å¯ä¸‹è½½å®Œä¹‹åï¼Œæ‰“å¼€ç»ˆç«¯è¾“å…¥ 12fastboot flash kernel filenamefastboot reboot ä¸å‡ºæ„å¤–çš„è¯ï¼Œä¼šæ­£å¸¸å¼€æœºï¼Œè¯·åˆ°å…³äºæœ¬æœºæŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬å·æ˜¯å¦æ­£ç¡®ã€‚ç„¶åä½ éœ€è¦Rootï¼Œåˆ°Magiskåˆ·å…¥ç›˜å¤å†…æ ¸Spectrumè°ƒåº¦é‡å¯åæ‰“å¼€Spectrumé€‰æ‹©gameingï¼Œä¼šå¾ˆä¸æ»‘ï¼Œä½†è€—ç”µ+114514 Kirin970ç‚¹å‡»ä¸‹è½½Miku Kernelä¸‹è½½å®Œä¹‹åï¼Œæ‰“å¼€ç»ˆç«¯è¾“å…¥ 12fastboot flash kernel filenamefastboot reboot ä¸å‡ºæ„å¤–çš„è¯ï¼Œä¼šæ­£å¸¸å¼€æœºï¼Œè¯·åˆ°å…³äºæœ¬æœºæŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬å·æ˜¯å¦ä¸ºMiku-Snowã€‚ å®‰å“12ä¸“å± ä½ éœ€è¦Rootï¼Œä¸‹è½½Scene5æŒ‰ç…§ä¸‹å›¾è¿›è¡Œè°ƒåº¦é…ç½® æ¨èå°†Quickstepè®¾ç½®ä¸ºæé€Ÿæ¨¡å¼ï¼Œè¿™æ ·åŠ¨ç”»ä¸æ»‘æµç•…ï¼Œå…¶å®ƒåº”ç”¨ä½¿ç”¨æ€§èƒ½å³å¯ï¼Œå¯è‡ªè¡Œæ–Ÿé…Œè°ƒæ•´é¢‘ç‡ åè®°å†™å®Œè¿™äº›ä¸œè¥¿åæœ‰ä¸€ç§æ”¾æ¾çš„æ„Ÿè§‰ï¼Œä½†åˆæƒ³åˆ°é…·å®‰è¿˜è¦å†æ’ç‰ˆä¸€éä¾¿å¾ˆè®©äººéº»çƒ¦ï¼Œç‚¹åé…·å®‰æ”¯æŒMarkdownï¼ï¼ï¼","link":"/post/Fuck-Huawei/"},{"title":"Project-Mushroom","text":"Miku UI æ˜¯ä¸€ä¸ªåŸºäº AOSP-CAF çš„ç³»ç»Ÿï¼Œä¸“æ³¨äºæ€§èƒ½ä¼˜åŒ–ä¸å’Œ Miku æœ‰å…³çš„ UI ç¾åŒ–ï½ å› æ­¤ï¼Œæˆ‘ä»¬çš„é¡¹ç›®ä¸­å¯èƒ½ä¼šå«æœ‰å¤§é‡ Miku (ãƒŸã‚¯) å…ƒç´ ã€ã€ å””â€¦ï¼ï¼Ÿ Wiki è®¾å¤‡ ç›®å‰æ‰€æœ‰è®¾å¤‡SELinuxå‡ä¸ºå¼ºåˆ¶æ‰§è¡Œï¼ŒCTSå‡è¿‡æ£€æµ‹ã€‚ å®˜æ–¹ç‰ˆRedmi Note7 Pro(violet) ç»´æŠ¤è€…: Undying-yueyue éƒ¨åˆ†è€ç‰ˆæœ¬ä¸‹è½½é“¾æ¥å¤±æ•ˆå±æ­£å¸¸ç°è±¡ æ›´æ–°æ—¥å¿—0.9.4 1æœˆ30æ—¥ Mikuå†…æ ¸å‡çº§åˆ°4.14.263 Mikuå†…æ ¸åŒæ­¥LA.UM.9.1.r1-11500.02-SMxxx0.QSSI12.0æ ‡ç­¾ é‡å†™è®¾å¤‡æ ‘ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.9.3 1æœˆ23æ—¥ å‡çº§æ˜¾ç¤ºä¸å›¾å½¢é©±åŠ¨åˆ°LA.UM.9.1.r1-11400.02-SMxxx0.QSSI12.0 é‡å†™è®¾å¤‡æ ‘(å·¥ç¨‹é‡å·¨å¤§ï¼ŒæŒç»­äº†18H) ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.9.2 æœ¨æœ‰~ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.9.1 1æœˆ15æ—¥ Miku Kernelåˆå¹¶ä¸Šæ¸¸v4.14.262 ä¾ç…§CDDåšäº†ä¸€äº›æ”¹åŠ¨ åˆ‡æ¢åˆ°SkiaGL Threadedæ¸²æŸ“åç«¯ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.9 1æœˆ7æ—¥å’Œ1æœˆ12æ—¥ æ›´æ–°Mikuå†…æ ¸åˆ°4.14.261 ä¼˜åŒ–SEPolicy ä¼˜åŒ–skiaæ€§èƒ½ keymasterå‡çº§åˆ°4.1 æš‚æ—¶å°†æŒ‡çº¹åˆ‡æ¢åˆ°Redfin ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.8.3-0.8.5 1æœˆ6æ—¥ å‡çº§Mikuå†…æ ¸åˆ°4.14.260 Mikuå†…æ ¸åˆå¹¶æœ€æ–°LA.UM.9.1.r1-11500-SMxxx0.0æ ‡ç­¾ UIæ¸²æŸ“åˆ‡æ¢åˆ°vulkanç„¶ååˆåˆ‡æ¢å›äº†OpenGLï¼Œæ€ä¹ˆæƒ³éƒ½æ˜¯é˜¿é‡Œç³»appçš„é”™ï¼ ä¿®å¤éŸ³é¢‘åœ¨æŸäº›åº”ç”¨å…³ä¸æ‰çš„bugï¼ˆæ¯”å¦‚é…·å®‰ï¼‰ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.8.2 12æœˆ27æ—¥ ä¿®å¤GPSçš„ä¸€ä¸ªè‡´å‘½é—®é¢˜ ä¼˜åŒ–GPSä½“éªŒ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.8.1 12æœˆ23æ—¥ åŒæ­¥MIUIæœ€æ–°propå‚æ•°æ”¹åŠ¨ é‡æ–°å¯ç”¨SettingsProvider ä½¿ç”¨CAFæ¸©æ§ ä¼˜åŒ–PowerHALå¯åŠ¨é€»è¾‘ä¸é…ç½® æ–°å¢FPSæ˜¾ç¤º å…è®¸OTGä½¿ç”¨æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿ ä¸ºEXT4å¯ç”¨64ä½inodeæ”¯æŒ å‡çº§GPS,å›¾å½¢,CNE,åŸºå¸¦,é—¹é’Ÿ,DSPç­‰é©±åŠ¨åˆ°10900æ ‡ç­¾ ä¼˜åŒ–éœ‡åŠ¨ä½“éªŒ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.8 12æœˆ17æ—¥å’Œ12æœˆ20æ—¥ ä¿®å¤ä¸èƒ½å½•å±çš„bug ä¿®å¤å½•å±æ—¶å¡é¡¿çš„bug ä¿®å¤ä¸€äº›appå¡é¡¿çš„bug æ›´æ–°RavenæŒ‡çº¹åˆ°12æœˆ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.7 12æœˆ15æ—¥ å‡çº§Miku Kernelåˆ°4.14.258 å‡çº§æŒ‡çº¹æ¨¡å—åˆ°2.3ç‰ˆæœ¬ Miku Kernelä¼˜åŒ–ç½‘ç»œæ€§èƒ½ ä¿®å¤äº†ä¸èƒ½åŠ å¯†æ‰‹æœºçš„bugï¼ˆé»˜è®¤ä¸åŠ å¯†ï¼‰ æ–°å¢æ•°æ®çŠ¶æ€æé†’ ä¸‹è½½é“¾æ¥: æ— GAPPS 0.6 12æœˆ8æ—¥ å¯ç”¨FUSEç›´é€š ä¿®å¤éƒ¨åˆ†æ¸¸æˆFpså¼‚å¸¸çš„bug æ›´å¥½åœ°åˆ©ç”¨CPUä¸€çº§ç¼“å­˜ ä¼˜åŒ–å†…å­˜é¡µå›æ”¶ ä¼˜åŒ–Swapç®—æ³• ä¼˜åŒ–å­˜å‚¨æ€§èƒ½ å®½æ¾CPUå»¶è¿Ÿä»¥å‡å°‘ç”µé‡æµªè´¹ å…è®¸CPUè¿›å…¥æ›´æ·±çŠ¶æ€çš„ç¡çœ  ä¼˜åŒ–dim layerï¼Œå‡å°‘æ˜¾ç¤ºå»¶è¿Ÿå¹¶å‡å°‘ç”µé‡æµªè´¹ ç§»é™¤é«˜é€šPM_Qosï¼Œå‡å°‘ç”µé‡ä¸cpuæ—¶é—´çš„æµªè´¹ ä¼˜åŒ–IRQ ä¼˜åŒ–mqueueç®—æ³•ï¼Œæå‡äº‹ä»¶æ”¶å‘æ€§èƒ½ å‡å°‘æœ€å¤š70%çš„cpuç”µé‡æµªè´¹ ä¸‹è½½é“¾æ¥: æ— GAPPS 0.5 12æœˆ5æ—¥å’Œ12æœˆ6æ—¥ Miku Kernelåˆå¹¶LA.UM.9.1.r1-11400-SMxxx0.0 æ–°å¢MiéŸ³ æ–°å¢å¤šç§æŸ¥çœ‹æ¯å±é€šçŸ¥çš„æ–¹å¼ ä¼˜åŒ–Sepolicy ä¸‹è½½é“¾æ¥: æ— GAPPS 0.4 12æœˆ4æ—¥ Miku Kernelå‡çº§åˆ°4.14.256 å®Œå–„Sepolicy ä¸‹è½½é“¾æ¥: æ— GAPPS 0.3 11æœˆ26æ—¥ é¦–æ¬¡æ›´æ–° ä¸‹è½½é“¾æ¥: æ— GAPPS ç¤¾åŒºç‰ˆXiaomi 6X(wayne) ç»´æŠ¤è€…: xiaoleGun å¦‚é‡ç›¸æœºæ— æ³•è°ƒç”¨å›¾åº“ï¼Œè¯·ç‚¹å‡»ä¸‹è½½å›¾åº“ç²¾ç®€ç‰ˆ æ›´æ–°æ—¥å¿—0.9.4 1æœˆ31æ—¥ å–æ¶ˆå¯¹power-stats-HALçš„æ”¯æŒ å¯ç”¨iWlanä¼ ç»Ÿæ¨¡å¼ ä¿®å¤Power HALåœ¨logä¸­ä½“ç°çš„error åˆ‡æ¢CAF ANT+(ä¸€ç§ä½åŠŸè€—åè®®) å°è¯•ä¿®å¤è§†é¢‘é€šè¯/å½©é“ƒï¼Œä¼šè‡ªåŠ¨æŒ‚æ–­çš„ç°è±¡ åˆ‡æ¢CAF thermal ä»S62Proå‡çº§thermal Blobs åœ¨vendoråˆ é™¤æ— ç”¨çš„config Miku Kernelåˆå¹¶v4.4.301 Tag åœ¨è®¾å¤‡æ ‘ä»¥åŠå†…æ ¸ä¿®å¤äº†è®¸å¤šåœ¨logä¸­ä½“ç°çš„æŠ¥é”™ æ›´å¤šâ€¦ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.9.3 1æœˆ25æ—¥å’Œ27æ—¥ æ¢å¤å†…æ ¸å¯¹ebpfçš„æ”¯æŒ(å³ç½‘é€Ÿæ˜¾ç¤ºæ­£å¸¸) ä¿®å¤DT2Wæ— æ³•å…³é—­ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.9.2 1æœˆ19æ—¥ æ„å»ºç±»å‹å‡çº§åˆ°ç¤¾åŒºç‰ˆ Miku Kernelåˆå¹¶v4.4.299 Tag Miku Kernelåˆå¹¶LA.UM.8.4.1.c25-02000-8x98.0 Tag Miku Kernelåˆå¹¶LA.UM.8.2.r2-05400-sdm660.0 Tag Miku Kernelåˆå¹¶LA.UM.9.2.c25-00600-SDMxx0.0 Miku Kernelå–æ¶ˆäº†å¯¹BPFçš„æ”¯æŒ(é¦–æ¬¡å¼€æœºå¯èƒ½è¾ƒä»¥å‰ç¨æ…¢) åˆ‡æ¢åˆ°SkiaGL Threadedæ¸²æŸ“åç«¯ ä¿®å¤DT2W(åŒå‡»å”¤é†’) å°†Tastuneå¢åŠ åˆ°10 å°†GPUç©ºé—²è®¡æ—¶å™¨è°ƒæ•´è‡³70ms GAPPSç‰ˆæœ¬å–æ¶ˆViaæµè§ˆå™¨æ”¯æŒ æ›´å¤šä¼˜åŒ–â€¦ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS Miku Recovery 0.9 é¦–æ¬¡æ›´æ–°ï¼ŒUnofficialï¼Œ1æœˆ9æ—¥ *Device ä¸‰åˆä¸€ å…³é—­Dataå¼ºåˆ¶åŠ å¯† ä¿®å¤XiaomiParts æ”¯æŒå¾®ä¿¡/æ”¯ä»˜å®æŒ‡çº¹æ”¯ä»˜ åŒæ­¥CAF EGL symlinks å¼€å¯é€šè¯å½•éŸ³ å°†è‡ªå¸¦æµè§ˆå™¨æ›¿æ¢ä¸ºViaæµè§ˆå™¨(commitæ³¨æ˜MD5) ä¸ºEXT4å¯ç”¨64ä½inodeæ”¯æŒ ä½¿ç”¨è°·æ­Œç›¸æœºç²¾ç®€ç‰ˆ *Vendor ä¸‰åˆä¸€ å‡çº§GPUé©±åŠ¨åˆ°V502 *Kernel å¯ç”¨QTI haptics åˆå¹¶v4.4.298 Tag ä¸ºAndroid12é€†å‘ç§»æ¤BPF Moreâ€¦ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS Essential Phone(mata) ç»´æŠ¤è€…: Undying-yueyue æ›´æ–°æ—¥å¿—Android-9-09åº•åŒ… å»ºè®®åˆ·~ *ä¿®å¤åº•åŒ…å¯¼è‡´çš„å¤šç§é—®é¢˜ï¼Œå¦‚: é€šè¯æ— å£° Chromeå’ŒEdgeå¡æ­» ä¸ä¸Šæœ¬è®¾å¤‡çš„çƒ­ç‚¹ ä¸‹è½½é“¾æ¥: åº•åŒ… 0.9.2 1æœˆ17æ—¥å’Œ1æœˆ22æ—¥ å–æ¶ˆå¯¹ebpfçš„æ”¯æŒ ä¿®å¤è“ç‰™ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.9.1 1æœˆ15æ—¥ Miku Kernelåˆå¹¶ä¸Šæ¸¸v4.4.299 ä¿®å¤å¤œç¯å’ŒæŠ¤çœ¼æ¨¡å¼ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.9 1æœˆ8æ—¥ Miku Kernelåˆå¹¶ä¸Šæ¸¸v4.4.298 ä»Redmi Note 7å‡çº§äº†ä¸€äº›å›¾å½¢Blobs æ¸²æŸ“ç®¡çº¿è®¾ç½®ä¸ºOpenGL å¯ç”¨é€šè¯å½•éŸ³ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.8.2 12æœˆ27æ—¥ Miku Kernelåˆå¹¶ä¸Šæ¸¸v4.4.296 ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS 0.8.1 12æœˆ24æ—¥ SElinuxå¼ºåˆ¶æ‰§è¡Œ ä¸‹è½½é“¾æ¥: GAPPS æ— GAPPS å†å²æ›´æ–°è®°å½•0.9.4 1æœˆ30æ—¥ -Mikuå›¾æ ‡å·¥å‚è¿›è´§äº†ï¼ ä¿®å¤æ–°å¢ç”¨æˆ·æ—¶ï¼Œè®¾ç½®å¤´åƒå¯èƒ½ä¼šå¡æ­»çš„bug ä¿®å¤å¤šç”¨æˆ·ä¸‹ï¼Œæ‰‹åŠ¿å¼‚å¸¸çš„bug ä¿®å¤æ— æ³•å•ç‹¬è®¾ç½®é”å±å£çº¸çš„bug ä¿®å¤å°‘éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå›¾æ ‡å·¥å‚å´©æºƒçš„bug ä¼˜åŒ–éƒ¨åˆ†åŠ¨ç”» æ›´å¤š~ 0.9.3 1æœˆ23æ—¥ MikuéŸ³æ•ˆï¼ 0.9.2 1æœˆ16æ—¥ æ–°å¢å¤šç”¨æˆ· é‡å†™çŠ¶æ€æ æ­Œè¯çš„Hooké€»è¾‘ï¼Œä¿®å¤åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒéŸ³ä¹è½¯ä»¶ä¸æ˜¾ç¤ºçŠ¶æ€æ æ­Œè¯å¼€å…³çš„bug Mikuå›¾æ ‡å·¥å‚æ–°å¢åœ†å½¢å½¢çŠ¶å’Œæ­£æ–¹å½¢å½¢çŠ¶ 0.9.1 1æœˆ12æ—¥ ä¿®å¤åœ¨è‹±æ–‡è¯­è¨€ä¸‹ä¸æ˜¾ç¤ºå›¾æ ‡çš„bug ä¿®å¤éƒ¨åˆ†æœºå‹çš„â€œç³»ç»Ÿç•Œé¢æœªå“åº”â€é—®é¢˜ ä¼˜åŒ–ARTçš„GCæœºåˆ¶ï¼ˆæ›´å°‘çš„GCï¼‰ æ–°å¢Miku å›¾æ ‡å·¥å‚ æ–°å¢å­—ä½“ä¿®æ”¹ ä¿®å¤æ¡Œé¢å¶å°”å´©æºƒçš„bug é‡æ–°å¼€æ”¾æ¡Œé¢çš„å¼€å‘è€…è®¾ç½® ç¡ç€çš„Miku ï¼ˆï¼Ÿ ä¸€äº›é€‚é…Vendor Freezeçš„æ”¹åŠ¨ 0.9 1æœˆ7æ—¥ æ›´æ–°å®‰å“ç‰ˆæœ¬åˆ°å®‰å“12_R26 æ›´æ–°å®‰å…¨è¡¥ä¸åˆ°2022å¹´ä¸€æœˆä»½ æš‚æ—¶å°†æŒ‡çº¹åˆ‡æ¢åˆ°redfin 0.8.3-0.8.5 1æœˆ6æ—¥ æ–°å¢çŠ¶æ€æ äº®åº¦è°ƒèŠ‚ æ–°å¢äº®åº¦æ»‘å—è‡ªå®šä¹‰ ä¿®å¤ç”µæ± ç”¨é‡æ˜¾ç¤ºå¼‚å¸¸çš„bug æ–°å¢MikuéŸ³ä¹é€šçŸ¥æ  æ–°å¢é”å±æ˜¾ç¤ºæ­Œæ›²å°é¢ 0.8.2 12æœˆ27æ—¥ æ–°å¢é€šè¯å½•éŸ³ï¼ˆä»…é™égappsç‰ˆï¼‰ æ–°å¢Monetå¼•æ“è‡ªå®šä¹‰è°ƒèŠ‚ 0.8.1 12æœˆ23æ—¥ æ–°å¢è‡ªåŠ¨é‡å¯ ä¿®å¤çŠ¶æ€æ æ­Œè¯æ— æ³•å…³é—­çš„bug æ¸…ç†é€šçŸ¥Tickerçš„æ— ç”¨ä»£ç ï¼Œåˆ é™¤é€šçŸ¥Tickerå…¥å£ 0.8 12æœˆ17æ—¥å’Œ12æœˆ20æ—¥ ä»Android12-R13åŒæ­¥åˆ°R21 Androidå®‰å…¨è¡¥ä¸æ›´æ–°åˆ°2021å¹´12æœˆ5æ—¥ ä¼˜åŒ–è§£é”åŠ¨ç”» å¾®è°ƒçŠ¶æ€æ èœå•å†…â€œç½‘ç»œâ€é€‰é¡¹çš„å¸ƒå±€ ç¡¬ä»¶ä¿¡æ¯æ–°å¢RAMå’ŒSOCçš„æ£€æµ‹ ä¿®å¤SafetyNet ä¼˜åŒ–SELinuxï¼ŒåŠ å…¥Miku UIè‡ªå®šä¹‰è§„åˆ™~ 0.7 12æœˆ15æ—¥ æ–°å¢ç½‘é€Ÿæ˜¾ç¤º æ–°å¢é»˜è®¤é“ƒå£° å‡çº§Gboard ä¿®å¤æ„å»ºç±»å‹æ˜¾ç¤ºæœªçŸ¥çš„Bug 0.6 12æœˆ8æ—¥ æ–°å¢ç»´æŠ¤è€…å’Œæ„å»ºç±»å‹æ˜¾ç¤º åŒæ­¥è°·æ­Œä¸Šæ¸¸å¯¹ç”µæºé”®æ”¹åŠ¨ 0.5 12æœˆ5æ—¥ æ›´æ¢å›¾æ ‡ ä½¿ç”¨äº†åŸºäºColorktçš„Monet æ¡Œé¢ä¼˜åŒ–äº†å¯¹Colorkt Monetçš„æ”¯æŒ æ–°å¢äº†5x6ï¼Œ5x7å’Œ6x6çš„æ¡Œé¢å¸ƒå±€ åœ¨æœ€è¿‘ä»»åŠ¡é¡µé¢ï¼Œæ–°å¢äº†ä¸€é”®æ¸…é™¤åå°çš„æŒ‰é’® è¡¥å……éƒ¨åˆ†ä¸­æ–‡ç¿»è¯‘ ä¿®å¤äº†å¯åŠ¨å™¨ç©ºæŒ‡é’ˆå´©æºƒBug äºŒåˆºèˆæµ“åº¦ 5% upï¼ 0.4 12æœˆ4æ—¥ ä¼˜åŒ–å±ä¸‹æŒ‡çº¹æ”¯æŒ ä¼˜åŒ–ä¸»é¢˜èµ„æºç¼“å­˜çš„æ€§èƒ½ æ·»åŠ æœºå™¨å­¦ä¹ æ¨¡å‹(Tensor Flow) ä¿®å¤ç³»ç»Ÿç•Œé¢æ— å“åº”çš„Bug æ–°å¢åœ¨å¤šä»»åŠ¡ç•Œé¢æ€æ­»Appçš„åŠŸèƒ½ ä¼˜åŒ–å›¾æ ‡æ˜¾ç¤ºæ•ˆæœ æ–°å¢ä¸´æ—¶å¼€æœºåŠ¨ç”» å¼€æ”¾æ¡Œé¢çš„å¼€å‘è€…è°ƒè¯•åŠŸèƒ½ 0.3 11æœˆ26æ—¥ é¦–æ¬¡æ›´æ–°","link":"/post/Project-Mushroom/"},{"title":"","text":"ä¸ºæ–°è®¾å¤‡ç¼–å†™ Recovery çš„è®¾å¤‡æ ‘ä½œè€…: Dark(xiaoleGun)æ—¶é—´: 2024.2.20åä½œè€…: ä¸€äº›è‡ªåºè¿™ç¯‡æ•™ç¨‹ä¸­å¯èƒ½æœ‰äº›ä¸å¯¹çš„åœ°æ–¹ï¼Œè¯·å„ä½æŒ‡æ­£ï¼Œæˆ‘ä¹Ÿåˆšæ¥è§¦ Android è®¾å¤‡æµ‹å¼€å‘ä¸¤å¹´ï¼Œè€Œä¸”åªæœ‰åœ¨èŠ‚å‡æ—¥çš„æ—¶å€™æœ‰ç©ºä¸€ä¸ªäººçæ£é¼“ï¼Œä¸ºäº†è–… mjw ç¾Šæ¯›ï¼Œæ•…å†™è¿™ç¯‡æ•™ç¨‹ï¼Œè€Œä¸”æˆ‘ä¸ªäººæ›´æ¨è Aosp Recovery åˆ·å†™ç¬¬ä¸‰æ–¹ ROMï¼ŒTWRP å¯èƒ½å¤šå¤šå°‘å°‘æœ‰äº›é—®é¢˜ã€‚Root ä¹‹ç±»çš„ä¸éœ€è¦ TWRP ä¹Ÿå¯ä»¥ï¼Œå¯ä»¥æ‰¾åˆ°åŸæœº boot ä½¿ç”¨ Magisk è¿›è¡Œä¿®è¡¥ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ KernelSUã€‚å¦å¤–æˆ‘çš„è¯­æ–‡åŠŸåº•ä¸æ˜¯å¾ˆå¥½ï¼Œå†™ä¸å‡ºè¾è—»ï¼Œåªèƒ½æ˜¯åŒ—æ–¹åœ°é“çš„å¤§ç™½è¯ï¼Œè§è°…å“ˆ ğŸ¤£/// å‡†å¤‡å·¥ä½œ1.ä¸€é¢—å‹‡æ•¢çš„ã€ä¸æ€•å›°éš¾çš„å¼ºå¤§å¿ƒè„ã€‚ä¸¤é¢—å¿ƒå¥½å‹‡æ•¢ â€“ Falling in love 2.ç”µè„‘é…ç½®: ç¡¬ä»¶ éœ€æ±‚ CPU å››æ ¸æˆ–æ›´å¤š å†…å­˜ 8G æˆ–æ›´å¤š ç¡¬ç›˜ è‡³å°‘ 80G ç©ºä½™ç©ºé—´ ç³»ç»Ÿ WSL æˆ–å®ä½“ Linuxï¼Œå»ºè®® Debian ç³» 3.è¶³å¤Ÿçš„ç©ºé—²æ—¶é—´ã€‚ 4.Vscode å’Œ ğŸ¤Linux çŸ¥è¯†å‚¨å¤‡ 5.ä¸€å°å®Œå¥½æ— æŸçš„æ–°è®¾å¤‡ã€‚ 6.è®¾å¤‡åŸå‚çš„ boot/recovery/vendor_boot é•œåƒã€‚(æ¨è recovery åˆ†åŒºï¼Œå› ä¸ºé‡Œé¢åŒ…å«ä¸€äº›å¯åŠ¨å¿…é¡»çš„.rc(run command)ï¼Œå¦‚æœæ²¡æœ‰è¯¥åˆ†åŒºï¼Œå¯»æ‰¾åŒ…å«å®˜æ–¹ recovery å†…å®¹çš„åˆ†åŒºã€‚å€¼å¾—æ³¨æ„çš„æ˜¯éƒ¨åˆ†è®¾å¤‡ recovery åˆå¹¶åˆ°äº† boot ä¸­ï¼Œæˆ–æ˜¯å­˜åœ¨äº vendor_bootï¼‰ 7.æŸ¥çœ‹è‡ªå·±çš„è®¾å¤‡å‡ºå‚ Android ç‰ˆæœ¬å¹¶ç¡®å®šç”¨é€”ï¼Œæ˜¯ç”¨äºå®˜æ–¹ ROM è¿˜æ˜¯ç¬¬ä¸‰æ–¹ç±»åŸç”Ÿã€‚å‡ºå‚ç‰ˆæœ¬ä¸º 9 åŠä»¥ä¸Šçš„å¯ä»¥ä½¿ç”¨ twrp-11 åŠä»¥ä¸Šåˆ†æ”¯ï¼Œ9 ä»¥ä¸‹ä½¿ç”¨ twrp-9 åˆ†æ”¯ã€‚ é…ç½®ç¯å¢ƒå®‰è£…ä¾èµ–12sudo apt updatesudo apt-get install bc bison build-essential ccache curl flex g++-multilib gcc-multilib git gnupg gperf imagemagick lib32ncurses5-dev lib32readline-dev lib32z1-dev liblz4-tool libncurses5 libncurses5-dev libsdl1.2-dev libssl-dev libxml2 libxml2-utils lzop pngcrush rsync schedtool squashfs-tools xsltproc zip zlib1g-dev xattr openjdk-11-jdk jq android-sdk-libsparse-utils python3 python2 repo å¿…è¦æ—¶å¯ä»¥é˜…è¯»Git å’Œ Repo é…ç½® Git å’Œ Repoå®‰è£…å®Œä¾èµ–åï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œã€‚ 12git config --global user.name &quot;your username&quot;git config --global user.email &quot;your email&quot; åŒæ­¥ TWRP æºç åœ¨è‡ªå·±æ–¹ä¾¿çš„åœ°æ–¹ï¼Œå»ºç«‹ä¸€ä¸ªç›®å½•ã€‚ 12mkdir twrpcd twrp æ ¹æ®è‡ªå·±åœ¨å‡†å¤‡å·¥ä½œä¸­ç¡®å®šçš„åˆ†æ”¯åŒæ­¥ç›¸åº”çš„æºç ã€‚ TWRP-912repo init --depth=1 -u https://github.com/minimal-manifest-twrp/platform_manifest_twrp_omni.git -b twrp-9.0repo sync TWRP-1112repo init --depth=1 -u https://github.com/minimal-manifest-twrp/platform_manifest_twrp_aosp.git -b twrp-11repo sync TWRP-12.112repo init --depth=1 -u https://github.com/minimal-manifest-twrp/platform_manifest_twrp_aosp.git -b twrp-12.1repo sync ç¼–å†™è®¾å¤‡æ ‘ æœ€åŸºæœ¬çš„å¼€æœºéƒ¨åˆ†æˆ‘é€šè¿‡ Redmi K50 åšç¤ºä¾‹ï¼Œå¹¶é€‰å– TWRP-12.1 åˆ†æ”¯ã€‚ è§£å¯†éƒ¨åˆ†ä¼šå•ç‹¬æˆä¸€ä¸ªç« èŠ‚å¹¶åˆ†ä¸ºé«˜é€šå’Œè”å‘ç§‘ã€‚ è·å–èµ„æ–™å°ç±³è®¾å¤‡ä¸€èˆ¬å¯ä»¥åœ¨Xiaomiromä¸­çš„çº¿åˆ·åŒ…è·å– boot/recovery/vendor_boot é•œåƒï¼Œå…¶å®ƒè®¾å¤‡è¯·è‡ªè¡Œå¯»æ‰¾ã€‚ å®‰è£…å·¥å…·å’Œä¾èµ–å°†å‡†å¤‡å·¥ä½œä¸­å‡†å¤‡çš„ boot/recovery/vendor_boot é•œåƒè§£åŒ…ï¼Œå¯ä»¥ç”¨ä»»ä½•å·¥å…·ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨Android_boot_image_editoræŒ‰ç…§è‡ªè¿°æ–‡ä»¶è¿›è¡Œä¾èµ–å®‰è£…æ“ä½œï¼š Mac(Intel)123brew install lz4 xz dtc openjdk@17echo 'export PATH=&quot;/usr/local/opt/openjdk@17/bin:$PATH&quot;' &gt;&gt; ~/.zshrcsource ~/.zshrc Linux:12sudo apt updatesudo apt install git device-tree-compiler lz4 xz-utils zlib1g-dev openjdk-17-jdk gcc g++ python3 python-is-python3 p7zip-full android-sdk-libsparse-utils erofs-utils Common:12git clone https://github.com/cfig/Android_boot_image_editorcd Android_boot_image_editor è§£åŒ… è¯·æ³¨æ„â€/â€œè¡¨ç¤ºæˆ–çš„æ„æ€ï¼Œè¯·ä¸è¦è¯¯ä»¥ä¸ºæ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚ å¦‚æœä¸ç¡®å®šåˆ†åŒºå¯»æ‰¾çš„æ˜¯å¦æ­£ç¡®ï¼Œè¯·å°è¯•å°†å¯ä»¥çš„åˆ†åŒºè¿›è¡Œè§£åŒ…ï¼Œå¹¶æŸ¥çœ‹å…¶ramdiskå†…æ˜¯å¦åŒ…å«recoveryå­—æ ·çš„æ–‡ä»¶ å°†ä½ å‡†å¤‡å¥½çš„boot/recovery/vendor_bootå¤åˆ¶åˆ°è¯¥ç›®å½•ï¼Œä½ å¯ä»¥ä½¿ç”¨ GUI æˆ–è€… CLIã€‚å¦‚: 12cp &lt;å‡ºå‚boot/recovery/vendor_bootçš„ç»å¯¹è·¯å¾„&gt; boot/recovery/vendor_boot.img./gradlew unpack æˆ‘è¿™é‡Œä»¥ Redmi K50 ä¸ºä¾‹ 123456789101112131415161718192010:12:13.188 [main] INFO cfig.bootimg.v3.VendorBoot - Unpack Summary of vendor_boot.imgâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚What â”‚Where â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚image info â”‚build/unzip_boot/vendor_boot.json â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ramdisk â”‚build/unzip_boot/ramdisk.img.lz4 â”‚â”‚-- PLATFORM ramdisk[1/1] â”‚build/unzip_boot/ramdisk.1.lz4 â”‚â”‚------- extracted rootfs â”‚build/unzip_boot/root.1 â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚dtb â”‚build/unzip_boot/dtb â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚AVB info â”‚build/unzip_boot/vendor_boot.avb.json â”‚â”‚\\-- signing key â”‚NONE â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜10:12:13.213 [main] WARN cfig.packable.PackableLauncher - 'unpack' sequence completedBUILD SUCCESSFUL in 2s è§£åŒ…æˆåŠŸåç»ˆç«¯ä¼šæ‰“å°å‡ºä»¥ä¸Šä¿¡æ¯ï¼Œå…¶ä¸­åŒ…å«vendor_bootç›®å½•ç»“æ„ï¼Œæˆ‘ä»¬åªéœ€è¦ramdiské‡Œçš„éƒ¨åˆ†å†…å®¹å°±å¥½äº†ã€‚ 1ls build/unzip_boot/root.1 # è¯·æ ¹æ®è‡ªå·±çš„åˆ†åŒºå’Œè®¾å¤‡åˆ¤æ–­ramdiskçš„å‘½åï¼Œä¸€èˆ¬éƒ½ç›´æ¥æ˜¯ramdisk ä¸å‡ºæ„å¤–çš„è¯ä¼šè¾“å‡ºä»¥ä¸‹å†…å®¹ 1234567891011121314151617181920212223242526xiaolegun@xiaoleGundeMac-Pro î‚° ~/github/dump/bootedit î‚° î‚  master ? î‚° ls build/unzip_boot/root.1acct oemapex plat_file_contextsbin plat_property_contextsbugreports postinstallconfig procd productdata product_file_contextsdata_mirror product_property_contextsdebug_ramdisk prop.defaultdefault.prop resdev sdcardetc second_stage_resourcesfirst_stage_ramdisk sepolicyinit storageinit.recovery.hardware.rc sysinit.recovery.mt6895.rc systemlib system_extlinkerconfig system_ext_file_contextsmiui.factoryreset.fstab system_ext_property_contextsmiui.factoryreset.rc tmpmnt vendorodm vendor_dlkmodm_dlkm vendor_file_contextsodm_file_contexts vendor_property_contextsodm_property_contexts å¦‚æœåŒ…å« init.recovery*çš„å­—æ ·ï¼Œæ­å–œä½ æˆåŠŸæ‰¾åˆ°äº†æ­£ç¡®çš„åˆ†åŒºã€‚å°†è¿™ä¸ªç›®å½•å¤åˆ¶åˆ°ä¸€ä¸ªè‡ªå·±æ–¹ä¾¿çš„åœ°æ–¹ã€‚è‡³æ­¤èµ„æ–™å·²ç»å¤§è‡´é½å…¨äº†ï¼Œè§£å¯†çš„èµ„æ–™ä¼šåœ¨è§£å¯†ç« èŠ‚æ¥è®²è§£å¦‚ä½•è·å–ã€‚ åˆå§‹åŒ–ç›®å½•ç»“æ„åœ¨ twrp æºç æ ¹ç›®å½•è¾“å…¥ 123mkdir -p device/vendor/codenamemkdir -p device/vendor/codename/recovery/rootcd device/vendor/codename vendoræŒ‡çš„æ˜¯ä¾›åº”å•†ï¼Œå¦‚ xiaomiã€oneplusã€huaweiã€vivoã€realmeã€‚codenameæŒ‡çš„æ˜¯è®¾å¤‡ä»£å·ï¼Œå°ç±³è®¾å¤‡å¯ä»¥åœ¨XiaomiromæŸ¥è¯¢ï¼Œå…¶å®ƒè®¾å¤‡è‡ªè¡ŒæŸ¥è¯¢äº¦æˆ–æ˜¯åœ¨å¼€å‘è€…é€‰é¡¹å‹¾é€‰ USB è°ƒè¯•é€šè¿‡ adb å°è¯•è·å–ã€‚ 12adb shell getprop ro.product.manufacturer # ä¾›åº”å•†adb shell getprop ro.product.device # è®¾å¤‡ä»£å· æˆ‘çš„ Redmi K50 ä¼šæ‰“å°ä»¥ä¸‹ä¿¡æ¯ 1234xiaolegun@xiaoleGundeMac-Pro î‚° ~/github/dump/bootedit î‚° î‚  master ? î‚° adb shell getprop ro.product.manufacturerXiaomi # æ— è®ºæ‰“å°å‡ºæ¥çš„å†…å®¹æ˜¯å¤§å†™è¿˜æ˜¯å°å†™ï¼Œåœ¨ç›®å½•ç»“æ„ä¸­æˆ‘ä»¬éƒ½é‡‡ç”¨å°å†™xiaolegun@xiaoleGundeMac-Pro î‚° ~/github/dump/bootedit î‚° î‚  master ? î‚° adb shell getprop ro.product.devicerubens æˆ‘çš„ IQOO NEO5 Lite ä¼šæ‰“å°ä»¥ä¸‹ä¿¡æ¯ 1234xiaolegun@xiaoleGundeMac-Pro î‚° ~/github/tmp/device/xiaomi/rubens î‚° adb shell getprop ro.product.manufacturervivoxiaolegun@xiaoleGundeMac-Pro î‚° ~/github/tmp/device/xiaomi/rubens î‚° adb shell getprop ro.product.devicePD2118 ä¸€èˆ¬åªè¦ä¸æ˜¯å±±å¯¨æœºï¼Œå°ä½œåŠå‡ºæ¥çš„æœºå­ï¼Œç”¨è¿™ä¸¤æ¡å‘½ä»¤åº”è¯¥æ˜¯å¯ä»¥æ­£ç¡®è·å–çš„ã€‚ åˆå§‹åŒ–æ„å»ºæ—¶å¿…è¦çš„æ–‡ä»¶æ— è®ºæ˜¯ AOSP device tree äº¦æˆ–æ˜¯ TWRP device tree éƒ½åŸºæœ¬ç±»ä¼¼äºä»¥ä¸‹ç»“æ„ã€‚ 12345678/â”œâ”€â”€ prebuilt (å­˜æ”¾kernelã€dtbç­‰é¢„ç¼–è¯‘æ–‡ä»¶) # AOSP device treeè‹¥ä½¿ç”¨build kernelåˆ™æ²¡æœ‰è¯¥ç›®å½•â”œâ”€â”€ recovery/root (å­˜æ”¾ä¸€äº›.rcå’Œè§£å¯†blobs) # ä¸€èˆ¬ç”¨äºRecovery device treeâ”œâ”€â”€ Android.mk (Androidæ„å»ºç³»ç»Ÿé¦–å…ˆä¼šæ£€æŸ¥æ¯ä¸ªç›®å½•çš„Android.mkï¼Œé‡Œé¢åŒ…å«ä¸€äº›åˆ¤æ–­ï¼Œç”±å®ƒåŒ…æ‹¬å…¶æ‰€åœ¨ç›®å½•ä¸­æ‰€æœ‰Makefile)â”œâ”€â”€ AndroidProducts.mk (å£°æ˜äº§å“çš„Makefileå’Œlunchæ—¶å¯ç”¨çš„æ„å»ºç±»å‹)â”œâ”€â”€ BoardConfig.mk (æ¿è½½é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†ä¸»æ¿å¿…è¦çš„Flag)â”œâ”€â”€ device.mk (å£°æ˜è®¾å¤‡æ‰€éœ€çš„æ–‡ä»¶å’Œæ¨¡å—)â””â”€â”€ &lt;ROM&gt;_codename.mk (å£°æ˜äº§å“ç‰¹å®šä¿¡æ¯ï¼Œä¾‹å¦‚åç§°ã€å“ç‰Œå’Œå‹å·ï¼Œå¼•ç”¨device.mkç­‰) # ROMå°±æ¯”å¦‚lineageã€arrowç­‰ï¼Œç¼–è¯‘twrpå°±ç›´æ¥å†™twrpï¼Œtwrp-9åˆ†æ”¯è¦å†™onmi æˆ‘ä»¬æŠŠè¿™æ ·çš„ç»“æ„ç§°ä¸ºéª¨æ¶æ ‘(skeleton tree)ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æŒ‰ç…§ä»¥ä¸Šç»“æ„ä¸ºè‡ªå·±çš„è®¾å¤‡å†™ä¸€ä»½ Recovery device treeã€‚åœ¨ç»ˆç«¯ä½¿ç”¨touchå‘½ä»¤åˆ›å»ºå¿…è¦çš„æ–‡ä»¶ã€‚ 12touch Android.mk AndroidProducts.mk BoardConfig.mk device.mk twrp_rubens.mkls . ä¸å‡ºæ„å¤–çš„è¯ä¼šæ‰“å°å‡ºä»¥ä¸‹ä¿¡æ¯ 1234xiaolegun@xiaoleGundeMac-Pro î‚° ~/github/tmp/device/xiaomi/rubens î‚° touch Android.mk AndroidProducts.mk BoardConfig.mk device.mk twrp_rubens.mkxiaolegun@xiaoleGundeMac-Pro î‚° ~/github/tmp/device/xiaomi/rubens î‚° ls .Android.mk BoardConfig.mk prebuilt twrp_rubens.mkAndroidProducts.mk device.mk recovery å¯ä»¥ä¸‹ä¸€æ­¥äº†~ åˆå§‹ Android.mk æ–‡ä»¶æ‰“å¼€ Vscode å¹¶æ‰“å¼€è®¾å¤‡æ ‘ç›®å½•ï¼Œä½ è¶³å¤Ÿå¼ºä¹Ÿå¯ä»¥ä½¿ç”¨ nanoã€vim ç¼–è¾‘ã€‚é€‰ä¸­ Android.mk å¹¶æŒ‰ç…§è‡ªå·±çš„èµ„æ–™å¤åˆ¶å¹¶æ›´æ”¹ä»¥ä¸‹å†…å®¹ 12345LOCAL_PATH := $(call my-dir)ifeq ($(TARGET_DEVICE),codename)include $(call all-subdir-makefiles,$(LOCAL_PATH))endif codenameæ˜¯éœ€è¦ä½ ä¿®æ”¹çš„éƒ¨åˆ† æˆ‘ä¿®æ”¹åæ˜¯è¿™æ ·çš„ 12345LOCAL_PATH := $(call my-dir)ifeq ($(TARGET_DEVICE),rubens)include $(call all-subdir-makefiles,$(LOCAL_PATH))endif åˆå§‹ AndroidProducts.mk æ–‡ä»¶é€‰ä¸­ AndroidProducts.mk å¹¶æŒ‰ç…§è‡ªå·±çš„èµ„æ–™å¤åˆ¶å¹¶æ›´æ”¹ä»¥ä¸‹å†…å®¹ 12345PRODUCT_MAKEFILES := \\ $(LOCAL_DIR)/&lt;ROM&gt;_&lt;codename&gt;.mkCOMMON_LUNCH_CHOICES := \\ &lt;ROM&gt;_&lt;codename&gt;-eng æˆ‘ä¿®æ”¹åæ˜¯è¿™æ ·çš„ 12345PRODUCT_MAKEFILES := \\ $(LOCAL_DIR)/twrp_rubens.mkCOMMON_LUNCH_CHOICES := \\ twrp_rubens-eng åˆå§‹ BoardConfig.mk æ–‡ä»¶ å°†ä¹‹å‰å‡†å¤‡çš„ramdiskæ–‡ä»¶å¤¹ç”¨æ–°çª—å£æ‰“å¼€ 1.æ‰¾åˆ°ç›®å½•ä¸‹çš„ prop.default æˆ–å« prop å­—æ ·çš„æ–‡ä»¶ã€‚ä»¥ä¸‹æ³¨é‡Šç±»ä¼¼ ro.*.*çš„å°±æ˜¯ä» prop ä¸­è·å–çš„ 2.è§£åŒ… boot/recovery/vendor_boot çš„ jsonä¾‹å¦‚ build/unzip_boot/boot.json é€‰ä¸­ BoardConfig.mk å¹¶æŒ‰ç…§è‡ªå·±çš„èµ„æ–™å¤åˆ¶å¹¶æ›´æ”¹ä»¥ä¸‹å†…å®¹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192DEVICE_PATH := device/vendor/codename# ArchitectureTARGET_ARCH := arm64 # ro.bionic.archTARGET_ARCH_VARIANT := armv8-a # 64ä½é»˜è®¤å˜ä½“TARGET_CPU_ABI := arm64-v8a # ro.vendor.product.cpu.abilist64 (è‡³å°‘åœ¨å°ç±³è®¾å¤‡ä¸Šæ²¡æœ‰æ‰¾åˆ°ro.product.cpu.abilist)TARGET_CPU_ABI2 := # 64ä½ç•™ç©ºTARGET_CPU_VARIANT := generic # é»˜è®¤ä¸€èˆ¬éƒ½æ˜¯é€šç”¨TARGET_CPU_VARIANT_RUNTIME := cortex-a55 # ro.bionic.cpu_variantTARGET_2ND_ARCH := arm # ro.bionic.2nd_archTARGET_2ND_ARCH_VARIANT := $(TARGET_ARCH_VARIANT)TARGET_2ND_CPU_ABI := armeabi-v7a # ro.vendor.product.cpu.abilist32ç¬¬ä¸€ä¸ªTARGET_2ND_CPU_ABI2 := armeabi # ro.vendor.product.cpu.abilist32ç¬¬äºŒä¸ªTARGET_2ND_CPU_VARIANT := $(TARGET_CPU_VARIANT)TARGET_2ND_CPU_VARIANT_RUNTIME := $(TARGET_CPU_VARIANT)# AssertationTARGET_OTA_ASSERT_DEVICE := rubens # codename# BootloaderTARGET_BOOTLOADER_BOARD_NAME := rubens # ro.product.boardTARGET_NO_BOOTLOADER := trueTARGET_USES_UEFI := true# Build RuleALLOW_MISSING_DEPENDENCIES := true # ä¸ºäº†recoveryä¸å¥å…¨çš„ä¾èµ–# Kernel - æ³¨é‡Šä¼šè¯´æ˜åœ¨boot/recovery/vendor_boot.jsonä¸­å¯¹åº”çš„å˜é‡BOARD_BOOTIMG_HEADER_VERSION := 4 # headerVersionBOARD_KERNEL_BASE := 0x3fff8000 # (kernelLoadAddr - 32KB) qcomè®¾å¤‡baseä¸º0ï¼Œä¸”æ²¡æœ‰åç§»(offset)BOARD_KERNEL_CMDLINE := bootopt=64S3,32N2,64N2 # cmdlineBOARD_KERNEL_PAGESIZE := 4096 # pageSizeBOARD_RAMDISK_OFFSET := 0x26f08000 # (ramdisk,loadAddr - BOARD_KERNEL_BASE)BOARD_KERNEL_TAGS_OFFSET := 0x07c88000 # (tagsLoadAddr - BOARD_KERNEL_BASE)BOARD_MKBOOTIMG_ARGS += --header_version $(BOARD_BOOTIMG_HEADER_VERSION)BOARD_MKBOOTIMG_ARGS += --ramdisk_offset $(BOARD_RAMDISK_OFFSET)BOARD_MKBOOTIMG_ARGS += --tags_offset $(BOARD_KERNEL_TAGS_OFFSET)# Kernel - prebuiltTARGET_PREBUILT_KERNEL := $(DEVICE_PATH)/prebuilt/kernel # é¢„ç¼–è¯‘å†…æ ¸ç›¸å¯¹äºandroidæºç æ ¹ç›®å½•çš„ç›¸å¯¹è·¯å¾„ï¼Œvendor_bootæœºå‹ä¸éœ€è¦TARGET_PREBUILT_DTB := $(DEVICE_PATH)/prebuilt/dtb.img # åŒä¸ŠBOARD_MKBOOTIMG_ARGS += --dtb $(TARGET_PREBUILT_DTB)# PartitionsBOARD_FLASH_BLOCK_SIZE := 262144 # (BOARD_KERNEL_PAGESIZE * 64)BOARD_BOOTIMAGE_PARTITION_SIZE := 67108864 # boot/recovery/vendor_booté•œåƒçš„å­—èŠ‚å¤§å°éœ€åŸå‚æˆ–æ‰‹æœºå®Œæ•´æå–å‡ºæ¥çš„ï¼Œä¸å®šä¹‰ä¼šæŠ¥é”™BOARD_RECOVERYIMAGE_PARTITION_SIZE := 67108864 # åŒä¸ŠBOARD_VENDOR_ROOTIMAGE_PARTITION_SIZE := 67108864 # åŒä¸ŠBOARD_SYSTEMIMAGE_PARTITION_TYPE := ext4 # åˆ†åŒºç±»å‹ï¼ŒæŸ¥çœ‹ramdiskä¸­fstabå®šä¹‰çš„ç±»å‹BOARD_USERDATAIMAGE_FILE_SYSTEM_TYPE := ext4BOARD_VENDORIMAGE_FILE_SYSTEM_TYPE := ext4TARGET_COPY_OUT_VENDOR := vendor # å®šä¹‰vendorç›®å½•ï¼Œä¾‹å¦‚copyä¸“æœ‰blobsè¦ç”¨BOARD_SUPER_PARTITION_SIZE := 9126805504 # å¯ä»¥é€šè¿‡blockdev --getsize64 /dev/block/bootdevice/by-name/superè·å–ï¼Œéœ€rootï¼Œå¦‚æœæ— æ³•rootå¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªå€¼ï¼Œä¸å½±å“twrpå¯åŠ¨ï¼Œå¯ä»¥åç»­ä¿®æ­£BOARD_SUPER_PARTITION_GROUPS := xiaomi_dynamic_partitions # xiaomiæ ¹æ®ä½ è·å–èµ„æ–™çš„vendoræ›¿æ¢ï¼Œæ˜¯ä¸€ä¸ªåŠ¨æ€åˆ†åŒºç»„BOARD_XIAOMI_DYNAMIC_PARTITIONS_PARTITION_LIST := system vendor product system_ext odm vendor_dlkm odm_dlkm # æ ¹æ®fstabå†…çš„å®šä¹‰ï¼Œä¸€èˆ¬flagåŒ…å«logicaléƒ½å±äºåŠ¨æ€åˆ†åŒºç»„çš„ä¸€éƒ¨åˆ†BOARD_XIAOMI_DYNAMIC_PARTITIONS_SIZE := 9122611200 # (BOARD_SUPER_PARTITION_SIZE - 4MB)# PlatformTARGET_BOARD_PLATFORM := mt6895 # ro.board.platform# Recovery - åŸºæœ¬é€šç”¨çš„ä¸å½±å“å¯åŠ¨BOARD_HAS_LARGE_FILESYSTEM := trueTARGET_RECOVERY_PIXEL_FORMAT := RGBX_8888TARGET_USERIMAGES_USE_EXT4 := trueTARGET_USERIMAGES_USE_F2FS := true# TrebleBOARD_VNDK_VERSION := current # å£°æ˜VNDKç‰ˆæœ¬# Vendor_boot recovery ramdiskBOARD_MOVE_RECOVERY_RESOURCES_TO_VENDOR_BOOT := true # å°†recoveryæ–‡ä»¶å¤åˆ¶åˆ°vendor_boot# Boot recovery ramdisk#BOARD_USES_RECOVERY_AS_BOOT := true recovery ramdiskåˆå¹¶åœ¨bootä¸­å¯ç”¨# Verified BootBOARD_AVB_ENABLE := trueBOARD_AVB_MAKE_VBMETA_IMAGE_ARGS += --flags 3# TWRP ConfigurationsTW_DEFAULT_LANGUAGE := zh_CN # é»˜è®¤ä¸ºä¸­æ–‡TW_EXTRA_LANGUAGES := true # é¢å¤–çš„è¯­è¨€TW_THEME := portrait_hdpi # ä¸»é¢˜TW_INCLUDE_FASTBOOTD := true # åŒ…æ‹¬fastbootdï¼Œä¸ºåŠ¨æ€åˆ†åŒº# å…¶å®ƒflagè¿˜æœ‰å¾ˆå¤šï¼Œå¯ä»¥åœ¨https://xdaforums.com/t/twrp-flags-for-boardconfig-mk.3333970 æŸ¥æ‰¾ï¼Œ# è¿™ç¯‡æ–‡ç« ä¹Ÿå¾ˆè€äº†ï¼Œä½†æˆ‘å¹¶ä¸æ¨ètwrpï¼Œæ‰€ä»¥flagæˆ‘ä¹Ÿä¸æ˜¯å¾ˆäº†è§£ï¼Œå¤šç¿»ç¿»github:)# DebugTARGET_USES_LOGD := true # è°ƒè¯•flagTWRP_INCLUDE_LOGCAT := true æ— æ³¨é‡Šç‰ˆ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889DEVICE_PATH := device/vendor/codename# ArchitectureTARGET_ARCH := arm64TARGET_ARCH_VARIANT := armv8-aTARGET_CPU_ABI := arm64-v8aTARGET_CPU_ABI2 :=TARGET_CPU_VARIANT := genericTARGET_CPU_VARIANT_RUNTIME := cortex-a55TARGET_2ND_ARCH := armTARGET_2ND_ARCH_VARIANT := $(TARGET_ARCH_VARIANT)TARGET_2ND_CPU_ABI := armeabi-v7aTARGET_2ND_CPU_ABI2 := armeabiTARGET_2ND_CPU_VARIANT := $(TARGET_CPU_VARIANT)TARGET_2ND_CPU_VARIANT_RUNTIME := $(TARGET_CPU_VARIANT)# AssertationTARGET_OTA_ASSERT_DEVICE := rubens# BootloaderTARGET_BOOTLOADER_BOARD_NAME := rubensTARGET_NO_BOOTLOADER := trueTARGET_USES_UEFI := true# Build RuleALLOW_MISSING_DEPENDENCIES := true# KernelBOARD_BOOT_HEADER_VERSION := 4BOARD_KERNEL_BASE := 0x3fff8000BOARD_KERNEL_CMDLINE := bootopt=64S3,32N2,64N2BOARD_KERNEL_PAGESIZE := 4096BOARD_RAMDISK_OFFSET := 0x26f08000BOARD_KERNEL_TAGS_OFFSET := 0x07c88000BOARD_MKBOOTIMG_ARGS += --header_version $(BOARD_BOOT_HEADER_VERSION)BOARD_MKBOOTIMG_ARGS += --ramdisk_offset $(BOARD_RAMDISK_OFFSET)BOARD_MKBOOTIMG_ARGS += --tags_offset $(BOARD_KERNEL_TAGS_OFFSET)BOARD_KERNEL_IMAGE_NAME := Image# Kernel - prebuiltTARGET_PREBUILT_DTB := $(DEVICE_PATH)/prebuilt/dtb.imgBOARD_MKBOOTIMG_ARGS += --dtb $(TARGET_PREBUILT_DTB)# PartitionsBOARD_FLASH_BLOCK_SIZE := 262144BOARD_BOOTIMAGE_PARTITION_SIZE := 67108864BOARD_RECOVERYIMAGE_PARTITION_SIZE := 67108864BOARD_VENDOR_ROOTIMAGE_PARTITION_SIZE := 67108864BOARD_SYSTEMIMAGE_PARTITION_TYPE := ext4BOARD_USERDATAIMAGE_FILE_SYSTEM_TYPE := ext4BOARD_VENDORIMAGE_FILE_SYSTEM_TYPE := ext4TARGET_COPY_OUT_VENDOR := vendorBOARD_SUPER_PARTITION_SIZE := 9126805504BOARD_SUPER_PARTITION_GROUPS := xiaomi_dynamic_partitionsBOARD_XIAOMI_DYNAMIC_PARTITIONS_PARTITION_LIST := system vendor product system_ext odm vendor_dlkm odm_dlkmBOARD_XIAOMI_DYNAMIC_PARTITIONS_SIZE := 9122611200# PlatformTARGET_BOARD_PLATFORM := mt6895# RecoveryBOARD_HAS_LARGE_FILESYSTEM := trueTARGET_RECOVERY_PIXEL_FORMAT := RGBX_8888TARGET_USERIMAGES_USE_EXT4 := trueTARGET_USERIMAGES_USE_F2FS := true# TrebleBOARD_VNDK_VERSION := current# Vendor_boot recovery ramdiskBOARD_MOVE_RECOVERY_RESOURCES_TO_VENDOR_BOOT := true# Boot recovery ramdisk#BOARD_USES_RECOVERY_AS_BOOT := true# Verified BootBOARD_AVB_ENABLE := trueBOARD_AVB_MAKE_VBMETA_IMAGE_ARGS += --flags 3# TWRP ConfigurationsTW_DEFAULT_LANGUAGE := zh_CNTW_EXTRA_LANGUAGES := trueTW_THEME := portrait_hdpiTW_INCLUDE_FASTBOOTD := true# DebugTARGET_USES_LOGD := trueTWRP_INCLUDE_LOGCAT := true è¿™å—å†™äº†å¥½ä¹…æˆ‘ä¹Ÿä¸ç¡®å®šå¯¹ä¸å¯¹ï¼Œè¯·å„ä½æŒ‡æ­£ï¼Œå°¤å…¶æ˜¯ Kernel éƒ¨åˆ†ã€‚ åˆå§‹ device.mk æ–‡ä»¶ å‡†å¤‡å¥½ prop.default é€‰ä¸­ AndroidProducts.mk å¹¶æŒ‰ç…§è‡ªå·±çš„èµ„æ–™å¤åˆ¶å¹¶æ›´æ”¹ä»¥ä¸‹å†…å®¹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344DEVICE_PATH := device/xiaomi/rubens# APIPRODUCT_SHIPPING_API_LEVEL := 31 # ro.board.first_api_level# A/BAB_OTA_UPDATER := true # å¯ç”¨A/Bæ— ç¼æ›´æ–°AB_OTA_PARTITIONS += \\ # å®šä¹‰A/Båˆ†åŒºï¼Œå‚è€ƒfstab boot \\ dtbo \\ system \\ product \\ vendor \\ odm \\ odm_dlkm \\ vbmeta \\ vendor_boot \\ vendor_dlkm \\ vbmeta_system \\ vbmeta_vendorPRODUCT_PACKAGES += \\ update_engine \\ update_engine_sideload \\ update_verifier \\ checkpoint_gcAB_OTA_POSTINSTALL_CONFIG += \\ RUN_POSTINSTALL_system=true \\ POSTINSTALL_PATH_system=system/bin/mtk_plpath_utils \\ FILESYSTEM_TYPE_system=ext4 \\ POSTINSTALL_OPTIONAL_system=trueAB_OTA_POSTINSTALL_CONFIG += \\ RUN_POSTINSTALL_vendor=true \\ POSTINSTALL_PATH_vendor=bin/checkpoint_gc \\ FILESYSTEM_TYPE_vendor=ext4 \\ POSTINSTALL_OPTIONAL_vendor=true# DynamicPRODUCT_USE_DYNAMIC_PARTITIONS := true # åŠ¨æ€åˆ†åŒº# Soong namespacesPRODUCT_SOONG_NAMESPACES += $(DEVICE_PATH) # å‘½åç©ºé—´ A/B æ— ç¼æ›´æ–°éƒ¨åˆ†é«˜é€šå’Œè”å‘ç§‘ä¸ä¸€æ ·ï¼Œè”å‘ç§‘è®¾å¤‡å¯ä»¥ç…§æŠ„ï¼Œæ³¨æ„ system/bin/mtk_plpath_utils å°±å¥½ã€‚é«˜é€šå‚è€ƒvenus twrp treeï¼Œå¹¶ä¸”é«˜é€šçš„bootctrlå’Œgpt-utilså¯ä»¥ä» CLO æ‹¿ã€‚ æ— æ³¨é‡Šç‰ˆ 1234567891011121314151617181920212223242526272829303132333435363738394041PRODUCT_SHIPPING_API_LEVEL := 31# A/BAB_OTA_UPDATER := trueAB_OTA_PARTITIONS += \\ boot \\ dtbo \\ system \\ product \\ vendor \\ odm \\ odm_dlkm \\ vbmeta \\ vendor_boot \\ vendor_dlkm \\ vbmeta_system \\ vbmeta_vendorPRODUCT_PACKAGES += \\ update_engine \\ update_engine_sideload \\ update_verifier \\ checkpoint_gcAB_OTA_POSTINSTALL_CONFIG += \\ RUN_POSTINSTALL_system=true \\ POSTINSTALL_PATH_system=system/bin/mtk_plpath_utils \\ FILESYSTEM_TYPE_system=ext4 \\ POSTINSTALL_OPTIONAL_system=trueAB_OTA_POSTINSTALL_CONFIG += \\ RUN_POSTINSTALL_vendor=true \\ POSTINSTALL_PATH_vendor=bin/checkpoint_gc \\ FILESYSTEM_TYPE_vendor=ext4 \\ POSTINSTALL_OPTIONAL_vendor=true# DynamicPRODUCT_USE_DYNAMIC_PARTITIONS := true# Soong namespacesPRODUCT_SOONG_NAMESPACES += $(DEVICE_PATH) åˆå§‹ twrp_rubens.mk æ–‡ä»¶é€‰ä¸­ AndroidProducts.mk å¹¶æŒ‰ç…§è‡ªå·±çš„èµ„æ–™å¤åˆ¶å¹¶æ›´æ”¹ä»¥ä¸‹å†…å®¹ 12345678910111213141516171819# Inherit from common AOSP config$(call inherit-product, $(SRC_TARGET_DIR)/product/base.mk)$(call inherit-product, $(SRC_TARGET_DIR)/product/core_64_bit_only.mk)$(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota/launch_with_vendor_ramdisk.mk) # vabåŠ è½½åˆ°vendor booté‡Œä½¿ç”¨# Inherit from TWRP product configuration$(call inherit-product, vendor/twrp/config/common.mk) # twrp-9åˆ†æ”¯æ”¹ä¸ºonmi# Device specific configs$(call inherit-product, device/xiaomi/rubens/device.mk)# Device identifierPRODUCT_DEVICE := rubens # è®¾å¤‡å‹å·PRODUCT_NAME := twrp_rubens # è®¾å¤‡åç§°PRODUCT_BRAND := Redmi # è‡ªå®šä¹‰å“ç‰Œï¼Œå¦‚æœæœ‰PRODUCT_MODEL := 22041211AC # äº§å“æœ€ç»ˆç”¨æˆ·å¯è§åç§°PRODUCT_MANUFACTURER := Xiaomi # åˆ¶é€ å•†PRODUCT_PROPERTY_OVERRIDES += ro.twrp.vendor_boot=true # å¯¹twrpå¯åŠ¨vendor_bootæ”¯æŒ æ— æ³¨é‡Šç‰ˆ 12345678910111213141516171819# Inherit from common AOSP config$(call inherit-product, $(SRC_TARGET_DIR)/product/base.mk)$(call inherit-product, $(SRC_TARGET_DIR)/product/core_64_bit_only.mk)$(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota/launch_with_vendor_ramdisk.mk) # vabåŠ è½½åˆ°vendor booté‡Œä½¿ç”¨# Inherit from TWRP product configuration$(call inherit-product, vendor/twrp/config/common.mk)# Device specific configs$(call inherit-product, device/xiaomi/rubens/device.mk)# Device identifierPRODUCT_DEVICE := rubensPRODUCT_NAME := twrp_rubensPRODUCT_BRAND := RedmiPRODUCT_MODEL := 22041211ACPRODUCT_MANUFACTURER := XiaomiPRODUCT_PROPERTY_OVERRIDES += ro.twrp.vendor_boot=true åˆå§‹ recovery ç›®å½• æ‹¿å‡ºæˆ‘ä»¬å¥½ä¹…ä¹‹å‰å‡†å¤‡çš„ ramdisk å­ é€šè¿‡treeå‘½ä»¤æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ ramdisk çš„æ ‘çŠ¶å›¾ï¼Œå¯ä»¥å¾ˆæ¸…æ™°çš„æŸ¥çœ‹åŒ…å«çš„æ–‡ä»¶ 1234567891011121314151617181920212223242526272829303132333435363738394041â”œâ”€â”€ acctâ”œâ”€â”€ apexâ”œâ”€â”€ bin -&gt; /system/binâ”œâ”€â”€ bugreports -&gt; /data/user_de/0/com.android.shell/files/bugreportsâ”œâ”€â”€ configâ”œâ”€â”€ d -&gt; /sys/kernel/debugâ”œâ”€â”€ dataâ”œâ”€â”€ data_mirrorâ”œâ”€â”€ debug_ramdiskâ”œâ”€â”€ default.prop -&gt; prop.defaultâ”œâ”€â”€ devâ”œâ”€â”€ etc -&gt; /system/etcâ”œâ”€â”€ first_stage_ramdiskâ”‚ â”œâ”€â”€ fstab.emmcâ”‚ â”œâ”€â”€ fstab.mt6895â”‚ â””â”€â”€ systemâ”‚ â”œâ”€â”€ binâ”‚ â”‚ â”œâ”€â”€ e2fsckâ”‚ â”‚ â”œâ”€â”€ linker64â”‚ â”‚ â”œâ”€â”€ linker_asan64 -&gt; linker64â”‚ â”‚ â””â”€â”€ snapuserdâ”‚ â””â”€â”€ lib64â”‚ â”œâ”€â”€ ld-android.soâ”‚ â”œâ”€â”€ libbase.soâ”‚ â”œâ”€â”€ libc++.soâ”‚ â”œâ”€â”€ libc.soâ”‚ â”œâ”€â”€ libdl.soâ”‚ â”œâ”€â”€ libext2_blkid.soâ”‚ â”œâ”€â”€ libext2_com_err.soâ”‚ â”œâ”€â”€ libext2_e2p.soâ”‚ â”œâ”€â”€ libext2_quota.soâ”‚ â”œâ”€â”€ libext2_uuid.soâ”‚ â”œâ”€â”€ libext2fs.soâ”‚ â”œâ”€â”€ liblog.soâ”‚ â”œâ”€â”€ libm.soâ”‚ â”œâ”€â”€ libsparse.soâ”‚ â””â”€â”€ libz.soâ”œâ”€â”€ init -&gt; /system/bin/initâ”œâ”€â”€ init.recovery.hardware.rcâ”œâ”€â”€ init.recovery.mt6895.rcâ””â”€â”€ ç­‰ç­‰ç­‰ç­‰...çœç•¥å¤§æ¦‚1000ä¸ªæ–‡ä»¶å§ å› ä¸ºé¿å…æ•™ç¨‹æ—¶æ•ˆæ€§ï¼Œæˆ‘ä»¬å°½å¯èƒ½é€‰å– prebuilt çš„åŠæ³•ï¼Œå¦‚ boot å’Œ mtk_plpath_utils éƒ½é‡‡ç”¨é¢„ç¼–è¯‘ã€‚ é‡Œé¢æœ‰å¾ˆå¤šæ–‡ä»¶æ˜¯æ²¡ç”¨çš„ï¼Œæ•´ç†ä¸€ä¸‹ï¼Œå¯¹æˆ‘ä»¬æœ‰ç”¨çš„åªæœ‰è¿™äº› 1234567891011121314151617181920212223242526272829303132333435.â”œâ”€â”€ first_stage_ramdiskâ”‚ â”œâ”€â”€ fstab.emmcâ”‚ â””â”€â”€ fstab.mt6895â”œâ”€â”€ init.recovery.mt6895.rcâ”œâ”€â”€ libâ”‚ â””â”€â”€ modulesâ”‚ â”œâ”€â”€ 8250_mtk.koâ”‚ â”œâ”€â”€ adapter_class.koâ”‚ â”œâ”€â”€ adsp.koâ”‚ â”œâ”€â”€ aee_aed.koâ”‚ â”œâ”€â”€ aee_hangdet.koâ”‚ â”œâ”€â”€ aee_rs.koâ”‚ â”œâ”€â”€ blocktag.koâ”‚ â”œâ”€â”€ bootprof.koâ”‚ â”œâ”€â”€ bq28z610.koâ”‚ â”œâ”€â”€ cache-parity.koâ”‚ â”œâ”€â”€ cfg80211.koâ”‚ â”œâ”€â”€ charger_class.koâ”‚ â””â”€â”€ çœç•¥ä¸€ç™¾å¤šä¸ªæ¨¡å—ï¼Œè¿™ä¸ªç›®å½•é‡Œçš„ä¸œè¥¿å…¨è¦â””â”€â”€ system â”œâ”€â”€ bin â”‚ â””â”€â”€ mtk_plpath_utils â”œâ”€â”€ etc â”‚ â”œâ”€â”€ init â”‚ â”‚ â”‚â”€â”€ mtk-plpath-utils.rc â”‚ â”‚ â””â”€â”€hw â”‚ â”‚ â””â”€â”€init.rc â”‚ â”œâ”€â”€ recovery.fstab â”‚ â”œâ”€â”€ security â”‚ â”‚ â””â”€â”€ otacerts.zip â”‚ â””â”€â”€ ueventd.rc â””â”€â”€ lib64 â””â”€â”€ hw â””â”€â”€ android.hardware.boot@1.0-impl-1.2-mtkimpl.so å°†å®ƒä»¬æŒ‰ç…§ä»¥ä¸‹æ“ä½œå¤åˆ¶ first_stage_ramdisk â€“&gt; recovery/root/first_stage_ramdisk init.recovery.mt6895.rc â€“&gt; recovery/root/init.recovery.mt6895.rc lib â€“&gt; recovery/root/lib system â€“&gt; recovery/root/system (security å’Œ hw æ–‡ä»¶å¤¹é‡Œçš„å†…å®¹ä½œä¸ºå¤‡ç”¨ï¼Œä¸è¦å¤åˆ¶è¿›å»)å¾—åˆ°ä»¥ä¸‹ç›®å½•ç»“æ„ 1234567891011121314151617181920212223242526272829303132.â”œâ”€â”€ Android.mkâ”œâ”€â”€ AndroidProducts.mkâ”œâ”€â”€ BoardConfig.mkâ”œâ”€â”€ device.mkâ”œâ”€â”€ prebuiltâ”œâ”€â”€ recoveryâ”‚ â””â”€â”€ rootâ”‚ â”œâ”€â”€ first_stage_ramdiskâ”‚ â”‚ â”œâ”€â”€ fstab.emmcâ”‚ â”‚ â””â”€â”€ fstab.mt6895â”‚ â”œâ”€â”€ init.recovery.mt6895.rcâ”‚ â”œâ”€â”€ libâ”‚ â”‚ â””â”€â”€ modulesâ”‚ â”‚ â”œâ”€â”€ 8250_mtk.koâ”‚ â”‚ â”œâ”€â”€ adapter_class.koâ”‚ â”‚ â”œâ”€â”€ adsp.koâ”‚ â”‚ â”œâ”€â”€ aee_aed.koâ”‚ â”‚ â”œâ”€â”€ aee_hangdet.koâ”‚ â”‚ â”œâ”€â”€ aee_rs.koâ”‚ â”‚ â”œâ”€â”€ blocktag.koâ”‚ â”‚ â””â”€â”€ çœç•¥....â”‚ â””â”€â”€ systemâ”‚ â”œâ”€â”€ binâ”‚ â”‚ â””â”€â”€ mtk_plpath_utilsâ”‚ â”œâ”€â”€ etcâ”‚ â”‚ â”œâ”€â”€ recovery.fstabâ”‚ â”‚ â””â”€â”€ ueventd.rcâ”‚ â””â”€â”€ lib64â”‚ â””â”€â”€ hwâ”‚ â””â”€â”€ android.hardware.boot@1.0-impl-1.2-mtkimpl.soâ””â”€â”€ twrp_rubens.mk æ‰“å¼€ init.recovery.mt6895.rc æ·»åŠ  12345on boot start health-hal-2-1on post-fs start boot-hal-1-2 ä¾‹å¦‚ 12345678910111213141516on post-fs start boot-hal-1-2on init setprop sys.usb.configfs 1 setprop sys.usb.controller &quot;11201000.usb0&quot; setprop sys.usb.ffs.aio_compat 1on fs &amp;&amp; property:ro.debuggable=0 # distinguish USB shoulde connect or not, i.e. CDP vs SDP # set charging free due to it wait for USB activationon boot start health-hal-2-1 exec u:r:update_engine:s0 root root -- /system/bin/mtk_plpath_utils æ¥ä¸‹æ¥å¯ä»¥å¼€å§‹ç¼–è¯‘å’¯~~ ç¼–è¯‘ ç¼–è¯‘å‰è¯·æ£€æŸ¥æ³¨é‡Šæ˜¯å¦å…¨éƒ¨åˆ é™¤ twrp æºç æ ¹ç›®å½•æ‰§è¡Œ 123. build/envsetup.shlunch twrp_codename-eng # twrp-9ä¸ºonmimka vendorbootimg/bootimage/recoveryimage ä¸å‡ºæ„å¤–çš„è¯ä¸€è·¯ç»¿ç¯ï¼Œå¦‚æœæœ‰æŠ¥é”™çš„è¯è¯·å‘é‚®ç®±è‡³ 1592501605@qq.com å’¨è¯¢æˆ‘ äº§ç‰©åœ¨ out/target/product/codename/vendor_boot.img\\boot.img\\recovery.imgæ‰‹æœºé‡å¯åˆ° fastboot æ¨¡å¼ï¼Œä½¿ç”¨ fastboot flash åˆ·å†™ï¼Œä¾‹å¦‚ 1fastboot flash vendor_boot /Users/xiaolegun/Downloads/vendor_boot.img åˆ™è¾“å‡º 12345ERROR: could not clear input pipe; result e0005000, ignoring...ERROR: could not clear output pipe; result e0005000, ignoring....Sending 'vendor_boot_a' (65536 KB) OKAY [ 1.396s]Writing 'vendor_boot_a' OKAY [ 0.167s]Finished. Total time: 1.625s å°±å¯ä»¥é‡å¯æŒ‰ç”µæºåŠ éŸ³é‡ä¸Šå°è¯•äº†ï¼Œæˆ‘è‡ªå·±æ˜¯ä¸€æ¬¡ç‚¹äº®ï¼Œä½†æœ‰ bugã€‚ ä¿® BUGä¿®å¤ USBæˆ‘çœ‹åˆ° twrp æ§åˆ¶å°æœ‰å¾ˆå¤šæŠ¥é”™ï¼Œç¬¬ä¸€æ­¥è‚¯å®šæ˜¯å…ˆè·å–æ—¥å¿—ï¼Œä½¿ç”¨logcatå‘½ä»¤è·å–ï¼Œåœ¨æ­¤ä¹‹å‰å…ˆä½¿ç”¨adb devicesæ£€æµ‹ä¸€ä¸‹è®¾å¤‡ usb æ˜¯å¦å·¥ä½œæ­£å¸¸ã€‚ 1234xiaolegun@xiaoleGundeMac-Pro î‚° ~ î‚° adb devices î‚² âœ” î‚² 10208 î‚² 10:05:31* daemon not running; starting now at tcp:5037* daemon started successfullyList of devices attached å¯ä»¥çœ‹åˆ°adbæ²¡æœ‰æ£€æµ‹åˆ°è®¾å¤‡ï¼ŒåŸå› ä¸€èˆ¬æ˜¯ usb çš„é…ç½®ä¸å¯¹ï¼Œä½† usb æ˜¯å¥½çš„ã€‚è¿™æ—¶å¯ä»¥å°è¯•å…³é—­ mtpï¼Œå†å¼€å¯ï¼Œå¦‚æœç”µè„‘æœ‰ååº”ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç»§ç»­ä¸‹ä¸€æ­¥äº†ã€‚åœ¨è®¾å¤‡æ ‘ä¸­çš„ recovery/rootï¼Œåˆ›å»º init.recovery.usb.rc çš„æ–‡ä»¶ 1touch recovery/root/init.recovery.usb.rc å¹¶å¯¼å…¥ä»¥ä¸‹å†…å®¹ 12345678910111213141516on property:sys.usb.config=mtp,adb start adbdon property:sys.usb.ffs.ready=1 &amp;&amp; property:sys.usb.config=mtp,adb write /config/usb_gadget/g1/configs/b.1/strings/0x409/configuration &quot;mtp_adb&quot; rm /config/usb_gadget/g1/configs/b.1/f1 rm /config/usb_gadget/g1/configs/b.1/f2 rm /config/usb_gadget/g1/configs/b.1/f3 rm /config/usb_gadget/g1/configs/b.1/f4 rm /config/usb_gadget/g1/configs/b.1/f5 write /config/usb_gadget/g1/idVendor 0x18d1 write /config/usb_gadget/g1/idProduct 0x2d08 symlink /config/usb_gadget/g1/functions/mtp.gs0 /config/usb_gadget/g1/configs/b.1/f1 symlink /config/usb_gadget/g1/functions/ffs.adb /config/usb_gadget/g1/configs/b.1/f2 write /config/usb_gadget/g1/UDC ${sys.usb.controller} setprop sys.usb.state ${sys.usb.config} è¿™æ˜¯æˆ‘ä»æˆ‘ç»´æŠ¤çš„ MI 6X çš„ device tree æ‹¿è¿‡æ¥çš„ï¼Œå¯ä»¥åœ¨è”å‘ç§‘è®¾å¤‡ä¸Šæ­£å¸¸å·¥ä½œã€‚è¿™æ®µ shell çš„å¤§è‡´æ„æ€å°±æ˜¯åœ¨ usb é…ç½®èŠ‚ç‚¹å†™å…¥ mtp å’Œ adb åŒæ—¶å·¥ä½œçš„å­—ç¬¦ä¸²ï¼Œè¿™æ · adb å°±èƒ½é¡ºåˆ©å·¥ä½œäº†ã€‚ æ­¤å¤–æ‰“å¼€åŸå‚ init.rc ä¿®æ­£ä¸€ä¸‹ usb è®¾å¤‡çš„ id 1234567891011121314151617# MIUI ADD: STARTimport /init.recovery.hardware.rcimport /miui.factoryreset.rc# ENDimport /init.recovery.${ro.hardware}.rc########### çœç•¥ä¸€ä¸‡å­—# MIUI ADD: STARTon property:sys.usb.config=mtp,adb &amp;&amp; property:sys.usb.configfs=0 write /sys/class/android_usb/android0/enable 0 write /sys/class/android_usb/android0/idVendor 2717 write /sys/class/android_usb/android0/idProduct 904D write /sys/class/android_usb/android0/functions mtp,adb write /sys/class/android_usb/android0/enable 1 setprop sys.usb.state ${sys.usb.config}# END å°†/sys/class/android_usb/android0/idVendorå’Œwrite /sys/class/android_usb/android0/idProductåé¢çš„ id åˆ†åˆ«æ›¿æ¢åˆ°/config/usb_gadget/g1/idVendorå’Œ/config/usb_gadget/g1/idProductå¤„ç†å®Œå°±æ˜¯è¿™æ ·çš„ã€‚ 12345678910111213141516on property:sys.usb.config=mtp,adb start adbdon property:sys.usb.ffs.ready=1 &amp;&amp; property:sys.usb.config=mtp,adb write /config/usb_gadget/g1/configs/b.1/strings/0x409/configuration &quot;mtp_adb&quot; rm /config/usb_gadget/g1/configs/b.1/f1 rm /config/usb_gadget/g1/configs/b.1/f2 rm /config/usb_gadget/g1/configs/b.1/f3 rm /config/usb_gadget/g1/configs/b.1/f4 rm /config/usb_gadget/g1/configs/b.1/f5 write /config/usb_gadget/g1/idVendor 0x2717 write /config/usb_gadget/g1/idProduct 0x904D symlink /config/usb_gadget/g1/functions/mtp.gs0 /config/usb_gadget/g1/configs/b.1/f1 symlink /config/usb_gadget/g1/functions/ffs.adb /config/usb_gadget/g1/configs/b.1/f2 write /config/usb_gadget/g1/UDC ${sys.usb.controller} setprop sys.usb.state ${sys.usb.config} æ¥ä¸‹æ¥å¼€æœºä¹‹å adb å’Œ mtp å°±èƒ½åŒæ—¶å·¥ä½œäº†ã€‚ ä¿®å¤ Resetpropæ¥ä¸‹æ¥å°±å¯ä»¥ä¿®å¤å…¶å®ƒ bug äº†ï¼Œæˆ‘çœ‹åˆ°æ§åˆ¶å°æœ‰ä¸€å †çº¢è‰²çš„æŠ¥é”™: 123E:Unknown File System:'/mi_ext'E:Unable to override 'external_storage.projid.enabled' due to missing libresetpropæŒ‚è½½â€œ/dataâ€å¤±è´¥(Invalid argument) è¿™ä¸‰ä¸ªæŠ¥é”™ä¸­ç¬¬äºŒä¸ªæœ€å¥½ä¿®ï¼Œç¬¬ä¸€ä¸ªæ¬¡ä¹‹ï¼Œç¬¬ä¸‰ä¸ªä¸è§£å¯†æœ‰å…³ï¼Œæ”¾åœ¨å¦ä¸€ä¸ªå¤§ç« èŠ‚è®²ã€‚ç¬¬äºŒä¸ªæŠ¥é”™åªéœ€è¦åœ¨ BoardConfig.mk ä¸­æ·»åŠ  123# ToolTW_INCLUDE_RESETPROP := trueTW_INCLUDE_LIBRESETPROP := true ä¸ç”¨ç¼–è¯‘æµ‹è¯•ç›´æ¥ç§’æ€ ä¿®å¤æŒ‚è½½1E:Unknown File System:'/mi_ext' æˆ‘ä»¬æ‰“å¼€ recovery/root/system/etc ä¸­çš„ recovery.fstabï¼Œå‘ç°é‡Œé¢æœ‰å¾ˆå¤šç©ºæ ¼ï¼Œæˆ‘ä»¬å…ˆå°†å®ƒæ ¼å¼åŒ–ä¸€ä¸‹ï¼Œæœ‰å®åŠ›çš„å¯ä»¥æŠŠåé¢çš„ flag ä¹Ÿå¯¹é½æ•´ç†å¥½ã€‚æˆ‘æ¯”è¾ƒæ²¡å®åŠ›ï¼Œç®€å•æ ¼å¼åŒ–äº†ä¸€ä¸‹ï¼Œæ˜¯è¿™æ ·çš„ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788# 1 &quot;vendor/mediatek/proprietary/hardware/fstab/mt6895/fstab.in.mt6895&quot;# 1 &quot;&lt;built-in&gt;&quot; 1# 1 &quot;&lt;built-in&gt;&quot; 3# 341 &quot;&lt;built-in&gt;&quot; 3# 1 &quot;&lt;command line&gt;&quot; 1# 1 &quot;&lt;built-in&gt;&quot; 2# 1 &quot;vendor/mediatek/proprietary/hardware/fstab/mt6895/fstab.in.mt6895&quot; 2# 173 &quot;vendor/mediatek/proprietary/hardware/fstab/mt6895/fstab.in.mt6895&quot;system /system erofs ro wait,slotselect,avb=vbmeta_system,logical,first_stage_mount,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkeysystem /system ext4 ro wait,slotselect,avb=vbmeta_system,logical,first_stage_mount,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkeyvendor /vendor erofs ro wait,slotselect,avb,logical,first_stage_mountvendor /vendor ext4 ro wait,slotselect,avb,logical,first_stage_mountproduct /product erofs ro wait,slotselect,avb,logical,first_stage_mountproduct /product ext4 ro wait,slotselect,avb,logical,first_stage_mountmi_ext /mnt/vendor/mi_ext erofs ro wait,slotselect,avb=vbmeta,logical,first_stage_mount,nofailmi_ext /mnt/vendor/mi_ext ext4 ro wait,slotselect,avb=vbmeta,logical,first_stage_mount,nofail/mnt/vendor/mi_ext /mi_ext none ro,bind wait,nofailoverlay /product/overlay overlay ro,lowerdir=/mnt/vendor/mi_ext/product/overlay/:/product/overlay check,nofailoverlay /product/app overlay ro,lowerdir=/mnt/vendor/mi_ext/product/app/:/product/app check,nofailoverlay /product/priv-app overlay ro,lowerdir=/mnt/vendor/mi_ext/product/priv-app/:/product/priv-app check,nofailoverlay /product/lib overlay ro,lowerdir=/mnt/vendor/mi_ext/product/lib/:/product/lib check,nofailoverlay /product/lib64 overlay ro,lowerdir=/mnt/vendor/mi_ext/product/lib64/:/product/lib64 check,nofailoverlay /product/bin overlay ro,lowerdir=/mnt/vendor/mi_ext/product/bin/:/product/bin check,nofailoverlay /product/framework overlay ro,lowerdir=/mnt/vendor/mi_ext/product/framework/:/product/framework check,nofailoverlay /product/media overlay ro,lowerdir=/mnt/vendor/mi_ext/product/media/:/product/media check,nofailoverlay /product/opcust overlay ro,lowerdir=/mnt/vendor/mi_ext/product/opcust/:/product/opcust check,nofailoverlay /product/data-app overlay ro,lowerdir=/mnt/vendor/mi_ext/product/data-app/:/product/data-app check,nofailoverlay /product/etc/sysconfig overlay ro,lowerdir=/mnt/vendor/mi_ext/product/etc/sysconfig/:/product/etc/sysconfig check,nofailoverlay /product/etc/permissions overlay ro,lowerdir=/mnt/vendor/mi_ext/product/etc/permissions/:/product/etc/permissions check,nofailoverlay /system/app overlay ro,lowerdir=/mnt/vendor/mi_ext/system/app/:/product/pangu/system/app/:/system/app check,nofailoverlay /system/priv-app overlay ro,lowerdir=/mnt/vendor/mi_ext/system/priv-app/:/product/pangu/system/priv-app/:/system/priv-app check,nofailoverlay /system/framework overlay ro,lowerdir=/product/pangu/system/framework/:/system/framework check,nofailoverlay /system/etc/sysconfig overlay ro,lowerdir=/mnt/vendor/mi_ext/system/etc/sysconfig/:/system/etc/sysconfig check,nofailoverlay /system/etc/permissions overlay ro,lowerdir=/mnt/vendor/mi_ext/system/etc/permissions/:/product/pangu/system/etc/permissions/:/system/etc/permissions check,nofailsystem_ext /system_ext erofs ro wait,slotselect,avb=vbmeta_system,logical,first_stage_mount,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkeysystem_ext /system_ext ext4 ro wait,slotselect,avb=vbmeta_system,logical,first_stage_mount,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkeyodm /odm erofs ro wait,slotselect,avb,logical,first_stage_mountodm /odm ext4 ro wait,slotselect,avb,logical,first_stage_mountvendor_dlkm /vendor_dlkm erofs ro wait,slotselect,avb,logical,first_stage_mountodm_dlkm /odm_dlkm erofs ro wait,slotselect,avb,logical,first_stage_mount/dev/block/by-name/metadata /metadata ext4 noatime,nosuid,nodev,discard wait,check,formattable,first_stage_mount/dev/block/by-name/userdata /data f2fs noatime,nosuid,nodev,discard,noflush_merge,fsync_mode=nobarrier,reserve_root=134217,resgid=1065,checkpoint_merge,gc_merge,inlinecrypt wait,check,formattable,quota,latemount,resize,reservedsize=128m,checkpoint=fs,fileencryption=aes-256-xts:aes-256-cts:v2+inlinecrypt_optimized,keydirectory=/metadata/vold/metadata_encryption,fsverity/dev/block/by-name/rescue /cache ext4 noatime,nosuid,nodev,noauto_da_alloc,discard wait,check,formattable/dev/block/by-name/protect1 /mnt/vendor/protect_f ext4 noatime,nosuid,nodev,noauto_da_alloc,commit=1,nodelalloc wait,check,formattable/dev/block/by-name/protect2 /mnt/vendor/protect_s ext4 noatime,nosuid,nodev,noauto_da_alloc,commit=1,nodelalloc wait,check,formattable/dev/block/by-name/nvdata /mnt/vendor/nvdata ext4 noatime,nosuid,nodev,noauto_da_alloc,commit=1,nodelalloc wait,check,formattable/dev/block/by-name/nvcfg /mnt/vendor/nvcfg ext4 noatime,nosuid,nodev,noauto_da_alloc,commit=1,nodelalloc wait,check,formattable/dev/block/by-name/persist /mnt/vendor/persist ext4 noatime,nosuid,nodev,noauto_da_alloc,commit=1,nodelalloc wait,check,formattable/devices/platform/soc/11240000.mmc* auto auto defaults voldmanaged=sdcard1:auto,encryptable=userdata/devices/platform/usb_xhci* auto vfat defaults voldmanaged=usbotg:auto/devices/platform/soc/11201000.usb0/11200000.xhci* auto vfat defaults voldmanaged=usbotg:auto/dev/block/by-name/frp /persistent emmc defaults defaults/dev/block/by-name/nvram /nvram emmc defaults defaults/dev/block/by-name/proinfo /proinfo emmc defaults defaults/dev/block/by-name/lk /bootloader emmc defaults defaults/dev/block/by-name/lk2 /bootloader2 emmc defaults defaults/dev/block/by-name/para /para emmc defaults defaults/dev/block/by-name/misc /misc emmc defaults defaults/dev/block/by-name/boot /boot emmc defaults first_stage_mount,nofail,slotselect/dev/block/by-name/vbmeta_vendor /vbmeta_vendor emmc defaults first_stage_mount,nofail,slotselect/dev/block/by-name/vbmeta_system /vbmeta_system emmc defaults first_stage_mount,nofail,slotselect,avb=vbmeta/dev/block/by-name/logo /logo emmc defaults defaults/dev/block/by-name/expdb /expdb emmc defaults defaults/dev/block/by-name/seccfg /seccfg emmc defaults defaults/dev/block/by-name/tee1 /tee1 emmc defaults defaults/dev/block/by-name/tee2 /tee2 emmc defaults defaults/dev/block/by-name/scp1 /scp1 emmc defaults defaults/dev/block/by-name/scp2 /scp2 emmc defaults defaults/dev/block/by-name/sspm_1 /sspm_1 emmc defaults defaults/dev/block/by-name/sspm_2 /sspm_2 emmc defaults defaults/dev/block/by-name/dpm_1 /dpm_1 emmc defaults defaults/dev/block/by-name/dpm_2 /dpm_2 emmc defaults defaults/dev/block/by-name/mcupm_1 /mcupm_1 emmc defaults defaults/dev/block/by-name/mcupm_2 /mcupm_2 emmc defaults defaults/dev/block/by-name/md1img /md1img emmc defaults defaults/dev/block/by-name/md1dsp /md1dsp emmc defaults defaults/dev/block/by-name/md1arm7 /md1arm7 emmc defaults defaults/dev/block/by-name/md3img /md3img emmc defaults defaults/dev/block/by-name/gz1 /gz1 emmc defaults defaults/dev/block/by-name/gz2 /gz2 emmc defaults defaults/dev/block/by-name/spmfw /spmfw emmc defaults defaults/dev/block/by-name/audio_dsp /audio_dsp emmc defaults defaults/dev/block/by-name/pi_img /pi_img emmc defaults defaults/dev/block/by-name/boot_para /boot_para emmc defaults defaults/dev/block/by-name/odmdtbo /odmdtbo emmc defaults defaults/dev/block/by-name/dtbo /dtbo emmc defaults defaults/dev/block/by-name/otp /otp emmc defaults defaults/dev/block/by-name/vbmeta /vbmeta emmc defaults defaults è¿™é‡Œé¢æœ‰å¾ˆå¤šæ— ç”¨åˆ†åŒºï¼Œæˆ‘ä»¬åœ¨ twrp ä¸­æ“ä½œä¸åˆ°ï¼Œä½†æ˜¯æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡é€‚é… MTK è®¾å¤‡ï¼Œæ‰€ä»¥ä¸â€œçè¯´â€è¯¯äººå­å¼Ÿäº†ï¼Œå…ˆæŠŠ bug ä¿®å¥½ã€‚åƒ xiaomi è¿™æ ·å¸¸è§çš„æŒ‚è½½é”™è¯¯ï¼Œæˆ‘è‡ªå·±ä¸€èˆ¬éƒ½æ˜¯å°è¯•æŠŠ/mnt/vendor ä½¿ç”¨ vscode å…¨éƒ¨åˆ é™¤ï¼Œè®©æˆ‘ä»¬å°è¯•ä¸€ä¸‹ã€‚å¹¶ä¸”è¦æŠŠè¿™ä¸€è¡Œåˆ é™¤ï¼Œè¿™è¡Œåœ¨æˆ‘çœ‹æ¥æ˜¯é‡å¤å®šä¹‰ï¼ˆï¼Ÿè€Œä¸”ä¹Ÿæ²¡æŒ‡å®šåˆ†åŒºæ ¼å¼ã€‚ 1/mnt/vendor/mi_ext /mi_ext none ro,bind wait,nofail æ•´ç†å®Œä¹‹åæ˜¯è¿™æ ·çš„ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687# 1 &quot;vendor/mediatek/proprietary/hardware/fstab/mt6895/fstab.in.mt6895&quot;# 1 &quot;&lt;built-in&gt;&quot; 1# 1 &quot;&lt;built-in&gt;&quot; 3# 341 &quot;&lt;built-in&gt;&quot; 3# 1 &quot;&lt;command line&gt;&quot; 1# 1 &quot;&lt;built-in&gt;&quot; 2# 1 &quot;vendor/mediatek/proprietary/hardware/fstab/mt6895/fstab.in.mt6895&quot; 2# 173 &quot;vendor/mediatek/proprietary/hardware/fstab/mt6895/fstab.in.mt6895&quot;system /system erofs ro wait,slotselect,avb=vbmeta_system,logical,first_stage_mount,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkeysystem /system ext4 ro wait,slotselect,avb=vbmeta_system,logical,first_stage_mount,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkeyvendor /vendor erofs ro wait,slotselect,avb,logical,first_stage_mountvendor /vendor ext4 ro wait,slotselect,avb,logical,first_stage_mountproduct /product erofs ro wait,slotselect,avb,logical,first_stage_mountproduct /product ext4 ro wait,slotselect,avb,logical,first_stage_mountmi_ext /mi_ext erofs ro wait,slotselect,avb=vbmeta,logical,first_stage_mount,nofailmi_ext /mi_ext ext4 ro wait,slotselect,avb=vbmeta,logical,first_stage_mount,nofailoverlay /product/overlay overlay ro,lowerdir=/mi_ext/product/overlay/:/product/overlay check,nofailoverlay /product/app overlay ro,lowerdir=/mi_ext/product/app/:/product/app check,nofailoverlay /product/priv-app overlay ro,lowerdir=/mi_ext/product/priv-app/:/product/priv-app check,nofailoverlay /product/lib overlay ro,lowerdir=/mi_ext/product/lib/:/product/lib check,nofailoverlay /product/lib64 overlay ro,lowerdir=/mi_ext/product/lib64/:/product/lib64 check,nofailoverlay /product/bin overlay ro,lowerdir=/mi_ext/product/bin/:/product/bin check,nofailoverlay /product/framework overlay ro,lowerdir=/mi_ext/product/framework/:/product/framework check,nofailoverlay /product/media overlay ro,lowerdir=/mi_ext/product/media/:/product/media check,nofailoverlay /product/opcust overlay ro,lowerdir=/mi_ext/product/opcust/:/product/opcust check,nofailoverlay /product/data-app overlay ro,lowerdir=/mi_ext/product/data-app/:/product/data-app check,nofailoverlay /product/etc/sysconfig overlay ro,lowerdir=/mi_ext/product/etc/sysconfig/:/product/etc/sysconfig check,nofailoverlay /product/etc/permissions overlay ro,lowerdir=/mi_ext/product/etc/permissions/:/product/etc/permissions check,nofailoverlay /system/app overlay ro,lowerdir=/mi_ext/system/app/:/product/pangu/system/app/:/system/app check,nofailoverlay /system/priv-app overlay ro,lowerdir=/mi_ext/system/priv-app/:/product/pangu/system/priv-app/:/system/priv-app check,nofailoverlay /system/framework overlay ro,lowerdir=/product/pangu/system/framework/:/system/framework check,nofailoverlay /system/etc/sysconfig overlay ro,lowerdir=/mi_ext/system/etc/sysconfig/:/system/etc/sysconfig check,nofailoverlay /system/etc/permissions overlay ro,lowerdir=/mi_ext/system/etc/permissions/:/product/pangu/system/etc/permissions/:/system/etc/permissions check,nofailsystem_ext /system_ext erofs ro wait,slotselect,avb=vbmeta_system,logical,first_stage_mount,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkeysystem_ext /system_ext ext4 ro wait,slotselect,avb=vbmeta_system,logical,first_stage_mount,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkeyodm /odm erofs ro wait,slotselect,avb,logical,first_stage_mountodm /odm ext4 ro wait,slotselect,avb,logical,first_stage_mountvendor_dlkm /vendor_dlkm erofs ro wait,slotselect,avb,logical,first_stage_mountodm_dlkm /odm_dlkm erofs ro wait,slotselect,avb,logical,first_stage_mount/dev/block/by-name/metadata /metadata ext4 noatime,nosuid,nodev,discard wait,check,formattable,first_stage_mount/dev/block/by-name/userdata /data f2fs noatime,nosuid,nodev,discard,noflush_merge,fsync_mode=nobarrier,reserve_root=134217,resgid=1065,checkpoint_merge,gc_merge,inlinecrypt wait,check,formattable,quota,latemount,resize,reservedsize=128m,checkpoint=fs,fileencryption=aes-256-xts:aes-256-cts:v2+inlinecrypt_optimized,keydirectory=/metadata/vold/metadata_encryption,fsverity/dev/block/by-name/rescue /cache ext4 noatime,nosuid,nodev,noauto_da_alloc,discard wait,check,formattable/dev/block/by-name/protect1 /protect_f ext4 noatime,nosuid,nodev,noauto_da_alloc,commit=1,nodelalloc wait,check,formattable/dev/block/by-name/protect2 /protect_s ext4 noatime,nosuid,nodev,noauto_da_alloc,commit=1,nodelalloc wait,check,formattable/dev/block/by-name/nvdata /nvdata ext4 noatime,nosuid,nodev,noauto_da_alloc,commit=1,nodelalloc wait,check,formattable/dev/block/by-name/nvcfg /nvcfg ext4 noatime,nosuid,nodev,noauto_da_alloc,commit=1,nodelalloc wait,check,formattable/dev/block/by-name/persist /persist ext4 noatime,nosuid,nodev,noauto_da_alloc,commit=1,nodelalloc wait,check,formattable/devices/platform/soc/11240000.mmc* auto auto defaults voldmanaged=sdcard1:auto,encryptable=userdata/devices/platform/usb_xhci* auto vfat defaults voldmanaged=usbotg:auto/devices/platform/soc/11201000.usb0/11200000.xhci* auto vfat defaults voldmanaged=usbotg:auto/dev/block/by-name/frp /persistent emmc defaults defaults/dev/block/by-name/nvram /nvram emmc defaults defaults/dev/block/by-name/proinfo /proinfo emmc defaults defaults/dev/block/by-name/lk /bootloader emmc defaults defaults/dev/block/by-name/lk2 /bootloader2 emmc defaults defaults/dev/block/by-name/para /para emmc defaults defaults/dev/block/by-name/misc /misc emmc defaults defaults/dev/block/by-name/boot /boot emmc defaults first_stage_mount,nofail,slotselect/dev/block/by-name/vbmeta_vendor /vbmeta_vendor emmc defaults first_stage_mount,nofail,slotselect/dev/block/by-name/vbmeta_system /vbmeta_system emmc defaults first_stage_mount,nofail,slotselect,avb=vbmeta/dev/block/by-name/logo /logo emmc defaults defaults/dev/block/by-name/expdb /expdb emmc defaults defaults/dev/block/by-name/seccfg /seccfg emmc defaults defaults/dev/block/by-name/tee1 /tee1 emmc defaults defaults/dev/block/by-name/tee2 /tee2 emmc defaults defaults/dev/block/by-name/scp1 /scp1 emmc defaults defaults/dev/block/by-name/scp2 /scp2 emmc defaults defaults/dev/block/by-name/sspm_1 /sspm_1 emmc defaults defaults/dev/block/by-name/sspm_2 /sspm_2 emmc defaults defaults/dev/block/by-name/dpm_1 /dpm_1 emmc defaults defaults/dev/block/by-name/dpm_2 /dpm_2 emmc defaults defaults/dev/block/by-name/mcupm_1 /mcupm_1 emmc defaults defaults/dev/block/by-name/mcupm_2 /mcupm_2 emmc defaults defaults/dev/block/by-name/md1img /md1img emmc defaults defaults/dev/block/by-name/md1dsp /md1dsp emmc defaults defaults/dev/block/by-name/md1arm7 /md1arm7 emmc defaults defaults/dev/block/by-name/md3img /md3img emmc defaults defaults/dev/block/by-name/gz1 /gz1 emmc defaults defaults/dev/block/by-name/gz2 /gz2 emmc defaults defaults/dev/block/by-name/spmfw /spmfw emmc defaults defaults/dev/block/by-name/audio_dsp /audio_dsp emmc defaults defaults/dev/block/by-name/pi_img /pi_img emmc defaults defaults/dev/block/by-name/boot_para /boot_para emmc defaults defaults/dev/block/by-name/odmdtbo /odmdtbo emmc defaults defaults/dev/block/by-name/dtbo /dtbo emmc defaults defaults/dev/block/by-name/otp /otp emmc defaults defaults/dev/block/by-name/vbmeta /vbmeta emmc defaults defaults è®©æˆ‘ä»¬ç¼–è¯‘è¯•ä¸€ä¸‹ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œtwrp æ¯æ¬¡æ›´æ”¹æœ€å¥½åˆ é™¤ out é‡æ–°ç¼–è¯‘ï¼Œä¸è¦ä½¿ç”¨å¦‚make installcleanç­‰å‘½ä»¤ï¼Œå¯èƒ½ä¼šå¼€æœºé»‘å±æˆ–æ›´æ”¹ä¸ç”Ÿæ•ˆã€‚ç»è¿‡ä¸€åˆ†é’Ÿï¼Œç¼–è¯‘å¥½äº†ï¼Œåˆ·å…¥ï¼Œå¼€æœºï¼Œå¯åŠ¨ï¼å¯ä»¥çœ‹è§æŒ‚è½½æˆåŠŸè¢«ä¿®å¥½ã€‚ ä¿®å¤å±å¹•æ˜¾ç¤ºå¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç°åœ¨å±å¹•çš„é¡¶éƒ¨çš„æ—¶é—´è¢«æ‘„åƒå¤´æŒ–å­”æŒ¡ä½äº†ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªåç§» Flag æ¥ä¿®å¤å®ƒã€‚åœ¨ BoardConfig.mk ä¸­ï¼ŒåŠ å…¥ä»¥ä¸‹ flag 12TW_Y_OFFSET := 106 #å¯¼èˆªæ å‘ä¸ŠTW_H_OFFSET := -106 #ç•Œé¢æ•´ä½“å‘ä¸‹ ä¿®å¤æŒ¯åŠ¨ ä»…ä¾›å‚è€ƒï¼Œç ”ç©¶åŠå¤©å‘ç°åªæœ‰è§£å¯†åŠŸèƒ½æ­£å¸¸æ‰èƒ½ä¿®æŒ¯åŠ¨ï¼Œä¸ç„¶ä¼šå†»å±ï¼ï¼ï¼ä¸ä¸€å®šæ­£ç¡®ï¼Œä¹Ÿä¸ä¸€å®šæ™®éï¼Œä»…ä¾›æŒ‡è·¯ è€è®¾å¤‡ä¸€èˆ¬éƒ½æ˜¯æ­£å¸¸çš„ï¼Œä¸éœ€è¦é¢å¤–å¤„ç†ï¼Œæ–°è®¾å¤‡ä½¿ç”¨ aidl hal éœ€è¦æˆ‘ä»¬è‡ªå·±å¤„ç†ä¸€ä¸‹è®© service æ­£å¸¸å·¥ä½œã€‚æŒ‚è½½ vendorï¼Œä½¿ç”¨ twrp çš„æ–‡ä»¶ç®¡ç†ï¼Œåœ¨ vendor/etc/vintf/manifest æ‰¾åˆ°å«æœ‰ vibrator å­—æ ·çš„æ–‡ä»¶ã€‚æ‰“å¼€ä¹‹åæ£€æŸ¥æ˜¯å¦ç±»ä¼¼è¿™æ ·çš„æ–‡æ®µ 123456&lt;manifest version=&quot;1.0&quot; type=&quot;device&quot;&gt; &lt;hal format=&quot;aidl&quot; override=&quot;true&quot;&gt; &lt;name&gt;android.hardware.vibrator&lt;/name&gt; &lt;fqname&gt;IVibrator/vibratorfeature&lt;/fqname&gt; &lt;/hal&gt;&lt;/manifest&gt; é‚£æ­å–œä½ ï¼Œæ‰¾å¯¹äº†ï¼Œæˆ‘çš„æ–‡ä»¶åæ˜¯vendor.xiaomi.hardware.vibratorfeature.service.xmlå°†å®ƒä½¿ç”¨adb pullæ”¾åˆ°ç”µè„‘ä¸Šè‡ªå·±æ–¹ä¾¿çš„ä½ç½®å¤‡ç”¨ã€‚ 12xiaolegun@xiaoleGundeMac-Pro î‚° ~/github/$/mjw î‚° adb pull /vendor/etc/vintf/manifest/vendor.xiaomi.hardware.vibratorfeature.service.xml ./vendor/etc/vintf/manifest/vendor.xiao...ipped. 0.2 MB/s (1718 bytes in 0.009s) ä¸çœ‹æ‰©å±•åï¼Œåˆ° vendor/bin/hw/æ‰¾åˆ°åŒåçš„ service åŒæ ·åˆ©ç”¨adb pullæ”¾ç”µè„‘å¤‡ç”¨ã€‚æ¯”å¦‚æˆ‘çš„å«vendor.xiaomi.hardware.vibratorfeature.serviceç„¶ååˆ° vendor/etc/init/æ‰¾åˆ°åŒå.rc æ–‡ä»¶ï¼Œæ‹‰åˆ°ç”µè„‘ä¸Šï¼Œåœ¨é‡Œé¢åŠ ä¸€æ¡ã€‚å¹¶åœ¨å®šä¹‰ service çš„æœ€ä¸‹é¢åŠ ä¸Šseclabel u:r:recovery:s0å¯ä»¥è¢« recovery ä½¿ç”¨ã€‚ 12on boot start serviceè¢«å®šä¹‰çš„åå­— ä¾‹å¦‚ 123456789101112131415on post-fs-data chown system system /sys/bus/i2c/drivers/aw8697_haptic/2-005a/f0_save chown system system /sys/bus/i2c/drivers/aw8697_haptic/2-005a/osc_save chown system system /sys/bus/i2c/drivers/aw8697_haptic/3-005a/osc_save # çœç•¥ä¸€ä¸‡å­—on boot start vibratorfeature-hal-serviceservice vibratorfeature-hal-service /vendor/bin/hw/vendor.xiaomi.hardware.vibratorfeature.service class hal user system group system input onrestart restart vibratorfeature seclabel u:r:recovery:s0 æ­¤å¤–è¿™ç§æ–°è®¾å¤‡åœ¨å†…æ ¸é‡Œè¿˜æœ‰æŒ¯åŠ¨æ¨¡å—éœ€è¦åŠ è½½ï¼Œè¯·åˆ°/vendor/modules/1.1/ä¸­å¯»æ‰¾ï¼Œä¾‹å¦‚æˆ‘è¿™å°è®¾å¤‡æ˜¯haptic.koï¼Œç”¨ adb pull æ‹‰å–åˆ°ç”µè„‘ä¸Šï¼Œç„¶å haptic.ko â€“&gt; recovery/root/vendor/modules/1.1 è‡³æ­¤æ‰€æœ‰å¿…è¦çš„èµ„æ–™å°±å‡†å¤‡å¥½äº†ã€‚å¯èƒ½å¼€æœºåä»ç„¶ä¸å·¥ä½œï¼Œéœ€è¦æŠ“å– log è¡¥ç¼ºå¤±çš„ libraryï¼Œå½“ç„¶è¿™æ˜¯åè¯äº†ã€‚ å¼€å¹²ï¼ åœ¨ BoardConfig.mk ä¸­åŠ å…¥ä»¥ä¸‹ flag 1TW_SUPPORT_INPUT_AIDL_HAPTICS := true å°†å¤‡ç”¨æ–‡ä»¶æŒ‰ç…§ä»¥ä¸‹æ“ä½œå¤åˆ¶ vendor.xiaomi.hardware.vibratorfeature.service.xml â€“&gt; recovery/root/vendor/etc/vintf/manifest vendor.xiaomi.hardware.vibratorfeature.service â€“&gt; recovery/root/vendor/bin/hw vendor.xiaomi.hardware.vibratorfeature.service.rc â€“&gt; recovery/root/vendor/etc/init ä¹‹åç¼–è¯‘ï¼Œåˆ·å…¥ï¼Œå¼€æœºï¼Œå–œæå†»å±â€¦â€¦é—®é¢˜ä¸å¤§ï¼Œä½¿ç”¨adb logcatæŠ“å–æ—¥å¿— 1adb logcat &gt; log.log æ‰“å¼€ logï¼Œæœç´¢F linkerã€linkerã€libraryã€beginning of crashè¿™å‡ ä¸ªå…³é”®è¯ï¼Œæˆ‘æœç´¢ç¬¬ä¸€ä¸ªå°±å‡ºæ¥äº†ã€‚ 1F linker : CANNOT LINK EXECUTABLE &quot;/vendor/bin/hw/vendor.xiaomi.hardware.vibratorfeature.service&quot;: library &quot;android.hardware.vibrator-V1-ndk_platform.so&quot; not found: needed by main executable è¿™æ®µæŠ¥é”™çš„æ„æ€å°±æ˜¯vendor.xiaomi.hardware.vibratorfeature.serviceæ‰¾ä¸åˆ°android.hardware.vibrator-V1-ndk_platform.soè¿™ä¸ªåº“ï¼Œæ‰€ä»¥æ— æ³•æ­£å¸¸å·¥ä½œã€‚ æ‰“å¼€ BoardConfig.mk åŠ å…¥ä»¥ä¸‹ flag 123456# LibraryTARGET_RECOVERY_DEVICE_MODULES += \\ android.hardware.vibrator-V1-ndk_platform.vendorTW_RECOVERY_ADDITIONAL_RELINK_LIBRARY_FILES += \\ $(TARGET_OUT_SHARED_LIBRARIES)/android.hardware.vibrator-V1-ndk_platform.so å†æ¬¡ç¼–è¯‘å°è¯•å¼€æœºä¹‹åä¾ç„¶å†»å±ï¼Œç»§ç»­æŠ“ logï¼ŒæŸ¥æ‰¾ 1F linker : CANNOT LINK EXECUTABLE &quot;/vendor/bin/hw/vendor.xiaomi.hardware.vibratorfeature.service&quot;: library &quot;vendor.hardware.vibratorfeature.IVibratorExt-V1-ndk_platform.so&quot; not found: needed by main executable vendor.hardware.vibratorfeatureå­—æ ·å’Œæˆ‘ä»¬ä¹‹å‰å¯¼å…¥çš„æ–‡ä»¶é•¿å¾—å·®ä¸å¤šï¼Œä¸€èˆ¬éƒ½æ˜¯ä¾›åº”å•†ä¸“æœ‰æ–‡ä»¶ï¼Œæ‰€ä»¥å»è®¾å¤‡æå–ï¼Œè·¯å¾„åœ¨ vendor/lib64 é‡Œï¼Œè™½ç„¶è®¾å¤‡å†»å±äº†ï¼Œä½†æˆ‘ä»¬å¯ä»¥ç”¨adb pullç›´æ¥æ‹‰å–åˆ°ç”µè„‘ã€‚å°±åƒè¿™æ ·ã€‚ 123xiaolegun@xiaoleGundeMac-Pro î‚° ~/github/$/mjw î‚° adb shell mount /vendorxiaolegun@xiaoleGundeMac-Pro î‚° ~/github/$/mjw î‚° adb pull /vendor/lib64/vendor.hardware.vibratorfeature.IVibratorExt-V1-ndk_platform.so ./vendor/lib64/vendor.hardware.vibratorfeature.IVi...led, 0 skipped. 14.7 MB/s (33552 bytes in 0.002s å°†è¿™ä¸ªæ–‡ä»¶æŒ‰ç…§ä»¥ä¸‹æç¤ºæ“ä½œ vendor.hardware.vibratorfeature.IVibratorExt-V1-ndk_platform.so â€“&gt; recovery/root/vendor/lib64 ç»§ç»­ç¼–è¯‘æµ‹è¯•è¿˜æ˜¯å†»å±ï¼Œç»§ç»­æŠ“ log 1F linker : CANNOT LINK EXECUTABLE &quot;/vendor/bin/hw/vendor.xiaomi.hardware.vibratorfeature.service&quot;: library &quot;libtinyalsa.so&quot; not found: needed by main executable è¿™ä¸ª library twrp çš„æºç ä¸­åº”è¯¥æ²¡æœ‰ï¼Œå»è®¾å¤‡æ‹¿ä¸€ä¸ª prebuilt å§ 123xiaolegun@xiaoleGundeMac-Pro î‚° ~/github/$/mjw î‚° adb shell mount /system_rootxiaolegun@xiaoleGundeMac-Pro î‚° ~/github/$/mjw î‚° adb pull /system_root/system/lib64/libtinyalsa.so ./system_root/system/lib64/libtinyalsa.so: 1 file ...led, 0 skipped. 13.6 MB/s (45032 bytes in 0.003s å°†è¿™ä¸ªæ–‡ä»¶æŒ‰ç…§ä»¥ä¸‹æç¤ºæ“ä½œ libtinyalsa.so â€“&gt; recovery/root/system/lib64 ç¼–è¯‘æµ‹è¯•æˆ‘è‰¹äº†ï¼Œè¿˜æ˜¯å†»å±ï¼Œè¿™æ¬¡æœé‚£å‡ ä¸ªå…³é”®è¯éƒ½æœä¸åˆ°äº†ï¼Œæœvibratorçœ‹çœ‹è¿™é¬¼ä¸œè¥¿æŠ¥ä»€ä¹ˆ 1E vendor.xiaomi.hardware.vibratorfeature.service: fail to load lib : /vendor/lib64/libaachaptics.so è¿™æ¬¡éƒ½ç›´æ¥ç»™è·¯å¾„äº†ï¼Œç›´æ¥æ‹¿ã€‚ 123xiaolegun@xiaoleGundeMac-Pro î‚° ~/github/$/mjw î‚° adb shell mount /vendorxiaolegun@xiaoleGundeMac-Pro î‚° ~/github/$/mjw î‚° adb pull /vendor/lib64/libaachaptics.so ./vendor/lib64/libaachaptics.so: 1 file pulled, 0 skipped. 15.8 MB/s (56232 bytes in 0.003s) å°†è¿™ä¸ªæ–‡ä»¶æŒ‰ç…§ä»¥ä¸‹æç¤ºæ“ä½œ libaachaptics.so â€“&gt; recovery/root/vendor/lib64 è‡³æ­¤åº”è¯¥æ²¡ä»€ä¹ˆé—®é¢˜äº†ï¼Œä½†æ˜¯æœ‰ä¸ª flag è²Œä¼¼è¦æ“ä½œ data å†…çš„ä¸œè¥¿ï¼Œæœªè§£å¯†ä¼šå¯¼è‡´å†»å±ï¼Œæ‰€ä»¥ç­‰ä¿®å®Œè§£å¯†åå†æ¥ä¿®æŒ¯åŠ¨ã€‚ ä¿®å¤ CPU æ¸©åº¦ä½¿ç”¨adb shell + grepå‘½ä»¤åœ¨æ‰‹æœºèŠ‚ç‚¹é‡Œæœç´¢ type å…³é”®è¯ã€‚ 123456789101112131415xiaolegun@xiaoleGundeMac-Pro î‚° ~ î‚° adb shell 'grep &quot;cp_master&quot; /sys/class/thermal/*/type'/sys/class/thermal/thermal_zone54/type:cp_masterxiaolegun@xiaoleGundeMac-Pro î‚° ~ î‚° adb shell 'grep &quot;cpu&quot; /sys/class/thermal/*/type'/sys/class/thermal/thermal_zone1/type:cpu_little1/sys/class/thermal/thermal_zone10/type:cpu_bigbig1/sys/class/thermal/thermal_zone11/type:cpu_big6/sys/class/thermal/thermal_zone12/type:cpu_bigbig2/sys/class/thermal/thermal_zone2/type:cpu_little2/sys/class/thermal/thermal_zone3/type:cpu_little3/sys/class/thermal/thermal_zone4/type:cpu_little4/sys/class/thermal/thermal_zone5/type:cpu_big1/sys/class/thermal/thermal_zone6/type:cpu_big2/sys/class/thermal/thermal_zone7/type:cpu_big3/sys/class/thermal/thermal_zone8/type:cpu_big4/sys/class/thermal/thermal_zone9/type:cpu_big5 æˆ‘è¿™é‡Œé€‰ç”¨cp_masterèŠ‚ç‚¹æ¥è¯»å–æ¸©åº¦ã€‚æˆ‘çš„èŠ‚ç‚¹è·¯å¾„ä¸º/sys/class/thermal/thermal_zone54åœ¨åé¢æ·»åŠ  temp æ¥è¯»å–æ¸©åº¦ï¼Œä½ å¯ä»¥ä½¿ç”¨catæ¥æ£€æµ‹èŠ‚ç‚¹æ˜¯å¦å¯ä»¥æ­£å¸¸è¯»å–æ¸©åº¦ 1adb shell 'cat /sys/class/thermal/thermal_zone54/temp' å¦‚æœè¿”å›å¦‚ 128000 è¿™ç§ç±»ä¼¼çš„æ•°å€¼ï¼Œé‚£å¤šåŠæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚æˆ‘ä»¬åœ¨ BoardConfig.mk ä¸­åŠ å…¥ 1TW_CUSTOM_CPU_TEMP_PATH := &quot;/sys/class/thermal/thermal_zone54/temp&quot; è‡³æ­¤ cpu æ¸©åº¦å°±ä¿®å¤å¥½äº†ã€‚ ååºè¿™æ˜¯æˆ‘ç© Android ä¸¤å¹´å†…ç¬¬ä¸€æ¬¡å†™å…³äº Android çš„æ–‡ç« ï¼Œå†…å®¹å’Œæªè¾å¯èƒ½ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œå†åŠ ä¸Šå¼€å­¦ç„¦è™‘ï¼Œç§Ÿæˆ¿å› ç§Ÿé‡‘å’Œæˆ¿æºä¸é¡ºåˆ©ï¼Œå†™çš„å¾ˆä¹±ï¼Œè¯·å„ä½æŒ‡æ­£ã€‚è§£å¯†ç­‰æœ‰ç©ºè¡¥ï¼Œå…ˆè¡¥ä½œä¸šã€‚ å‚è€ƒèµ„æ–™Google - æ·»åŠ æ–°è®¾å¤‡ Google - A/Bï¼ˆæ— ç¼ï¼‰ç³»ç»Ÿæ›´æ–° Lynnrin - å¿«é€Ÿä¸Šæ‰‹ Android Custom ROM é€‚é… - Prebuilt Vendor Google - ä¾›åº”å•†æ¥å£å¯¹è±¡","link":"/post/writing-recovery-device-tree-for-new-device/"}],"tags":[{"name":"GSI","slug":"GSI","link":"/tags/GSI/"},{"name":"ROM","slug":"ROM","link":"/tags/ROM/"}],"categories":[],"pages":[{"title":"","text":"Hi there ğŸ‘‹ Iâ€™m xiaoleGun ğŸŒ± Iâ€™m learning Android~ ğŸ“« Email: xiaolegun@qq.com ğŸ  Iâ€™m a junior high school student of Beijing Yanqing No.4 middle school. A staunch communist â€œå°Šä¸¥åªåœ¨å‰‘é”‹ä¹‹ä¸Šï¼ŒçœŸç†åªåœ¨å¤§ç‚®å°„ç¨‹ä¹‹å†…â€ ğŸµ Spotify ğŸ’» Environment ğŸ“± Devices","link":"/about/index.html"},{"title":"categories","text":"","link":"/categories/index.html"},{"title":"tags","text":"","link":"/tags/index.html"}]}