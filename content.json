{"posts":[{"title":"Project-Mushroom","text":"Miku UI 是一个基于 AOSP-CAF 的系统，专注于性能优化与和 Miku 有关的 UI 美化～ 因此，我们的项目中可能会含有大量 Miku (ミク) 元素、、 唔…！？ Wiki 设备 目前所有设备SELinux均为强制执行，CTS均过检测。 官方版Redmi Note7 Pro(violet) 维护者: Undying-yueyue 部分老版本下载链接失效属正常现象 更新日志0.9.4 1月30日 Miku内核升级到4.14.263 Miku内核同步LA.UM.9.1.r1-11500.02-SMxxx0.QSSI12.0标签 重写设备树 下载链接: GAPPS 无GAPPS 0.9.3 1月23日 升级显示与图形驱动到LA.UM.9.1.r1-11400.02-SMxxx0.QSSI12.0 重写设备树(工程量巨大，持续了18H) 下载链接: GAPPS 无GAPPS 0.9.2 木有~ 下载链接: GAPPS 无GAPPS 0.9.1 1月15日 Miku Kernel合并上游v4.14.262 依照CDD做了一些改动 切换到SkiaGL Threaded渲染后端 下载链接: GAPPS 无GAPPS 0.9 1月7日和1月12日 更新Miku内核到4.14.261 优化SEPolicy 优化skia性能 keymaster升级到4.1 暂时将指纹切换到Redfin 下载链接: GAPPS 无GAPPS 0.8.3-0.8.5 1月6日 升级Miku内核到4.14.260 Miku内核合并最新LA.UM.9.1.r1-11500-SMxxx0.0标签 UI渲染切换到vulkan然后又切换回了OpenGL，怎么想都是阿里系app的错！ 修复音频在某些应用关不掉的bug（比如酷安） 下载链接: GAPPS 无GAPPS 0.8.2 12月27日 修复GPS的一个致命问题 优化GPS体验 下载链接: GAPPS 无GAPPS 0.8.1 12月23日 同步MIUI最新prop参数改动 重新启用SettingsProvider 使用CAF温控 优化PowerHAL启动逻辑与配置 新增FPS显示 允许OTG使用所有文件系统 为EXT4启用64位inode支持 升级GPS,图形,CNE,基带,闹钟,DSP等驱动到10900标签 优化震动体验 下载链接: GAPPS 无GAPPS 0.8 12月17日和12月20日 修复不能录屏的bug 修复录屏时卡顿的bug 修复一些app卡顿的bug 更新Raven指纹到12月 下载链接: GAPPS 无GAPPS 0.7 12月15日 升级Miku Kernel到4.14.258 升级指纹模块到2.3版本 Miku Kernel优化网络性能 修复了不能加密手机的bug（默认不加密） 新增数据状态提醒 下载链接: 无GAPPS 0.6 12月8日 启用FUSE直通 修复部分游戏Fps异常的bug 更好地利用CPU一级缓存 优化内存页回收 优化Swap算法 优化存储性能 宽松CPU延迟以减少电量浪费 允许CPU进入更深状态的睡眠 优化dim layer，减少显示延迟并减少电量浪费 移除高通PM_Qos，减少电量与cpu时间的浪费 优化IRQ 优化mqueue算法，提升事件收发性能 减少最多70%的cpu电量浪费 下载链接: 无GAPPS 0.5 12月5日和12月6日 Miku Kernel合并LA.UM.9.1.r1-11400-SMxxx0.0 新增Mi音 新增多种查看息屏通知的方式 优化Sepolicy 下载链接: 无GAPPS 0.4 12月4日 Miku Kernel升级到4.14.256 完善Sepolicy 下载链接: 无GAPPS 0.3 11月26日 首次更新 下载链接: 无GAPPS 社区版Xiaomi 6X(wayne) 维护者: xiaoleGun 如遇相机无法调用图库，请点击下载图库精简版 更新日志0.9.4 1月31日 取消对power-stats-HAL的支持 启用iWlan传统模式 修复Power HAL在log中体现的error 切换CAF ANT+(一种低功耗协议) 尝试修复视频通话/彩铃，会自动挂断的现象 切换CAF thermal 从S62Pro升级thermal Blobs 在vendor删除无用的config Miku Kernel合并v4.4.301 Tag 在设备树以及内核修复了许多在log中体现的报错 更多… 下载链接: GAPPS 无GAPPS 0.9.3 1月25日和27日 恢复内核对ebpf的支持(即网速显示正常) 修复DT2W无法关闭 下载链接: GAPPS 无GAPPS 0.9.2 1月19日 构建类型升级到社区版 Miku Kernel合并v4.4.299 Tag Miku Kernel合并LA.UM.8.4.1.c25-02000-8x98.0 Tag Miku Kernel合并LA.UM.8.2.r2-05400-sdm660.0 Tag Miku Kernel合并LA.UM.9.2.c25-00600-SDMxx0.0 Miku Kernel取消了对BPF的支持(首次开机可能较以前稍慢) 切换到SkiaGL Threaded渲染后端 修复DT2W(双击唤醒) 将Tastune增加到10 将GPU空闲计时器调整至70ms GAPPS版本取消Via浏览器支持 更多优化… 下载链接: GAPPS 无GAPPS Miku Recovery 0.9 首次更新，Unofficial，1月9日 *Device 三合一 关闭Data强制加密 修复XiaomiParts 支持微信/支付宝指纹支付 同步CAF EGL symlinks 开启通话录音 将自带浏览器替换为Via浏览器(commit注明MD5) 为EXT4启用64位inode支持 使用谷歌相机精简版 *Vendor 三合一 升级GPU驱动到V502 *Kernel 启用QTI haptics 合并v4.4.298 Tag 为Android12逆向移植BPF More… 下载链接: GAPPS 无GAPPS Essential Phone(mata) 维护者: Undying-yueyue 更新日志Android-9-09底包 建议刷~ *修复底包导致的多种问题，如: 通话无声 Chrome和Edge卡死 不上本设备的热点 下载链接: 底包 0.9.2 1月17日和1月22日 取消对ebpf的支持 修复蓝牙 下载链接: GAPPS 无GAPPS 0.9.1 1月15日 Miku Kernel合并上游v4.4.299 修复夜灯和护眼模式 下载链接: GAPPS 无GAPPS 0.9 1月8日 Miku Kernel合并上游v4.4.298 从Redmi Note 7升级了一些图形Blobs 渲染管线设置为OpenGL 启用通话录音 下载链接: GAPPS 无GAPPS 0.8.2 12月27日 Miku Kernel合并上游v4.4.296 下载链接: GAPPS 无GAPPS 0.8.1 12月24日 SElinux强制执行 下载链接: GAPPS 无GAPPS 历史更新记录0.9.4 1月30日 -Miku图标工厂进货了！ 修复新增用户时，设置头像可能会卡死的bug 修复多用户下，手势异常的bug 修复无法单独设置锁屏壁纸的bug 修复少部分情况下，图标工厂崩溃的bug 优化部分动画 更多~ 0.9.3 1月23日 Miku音效！ 0.9.2 1月16日 新增多用户 重写状态栏歌词的Hook逻辑，修复在某些情况下，音乐软件不显示状态栏歌词开关的bug Miku图标工厂新增圆形形状和正方形形状 0.9.1 1月12日 修复在英文语言下不显示图标的bug 修复部分机型的“系统界面未响应”问题 优化ART的GC机制（更少的GC） 新增Miku 图标工厂 新增字体修改 修复桌面偶尔崩溃的bug 重新开放桌面的开发者设置 睡着的Miku （？ 一些适配Vendor Freeze的改动 0.9 1月7日 更新安卓版本到安卓12_R26 更新安全补丁到2022年一月份 暂时将指纹切换到redfin 0.8.3-0.8.5 1月6日 新增状态栏亮度调节 新增亮度滑块自定义 修复电池用量显示异常的bug 新增Miku音乐通知栏 新增锁屏显示歌曲封面 0.8.2 12月27日 新增通话录音（仅限非gapps版） 新增Monet引擎自定义调节 0.8.1 12月23日 新增自动重启 修复状态栏歌词无法关闭的bug 清理通知Ticker的无用代码，删除通知Ticker入口 0.8 12月17日和12月20日 从Android12-R13同步到R21 Android安全补丁更新到2021年12月5日 优化解锁动画 微调状态栏菜单内“网络”选项的布局 硬件信息新增RAM和SOC的检测 修复SafetyNet 优化SELinux，加入Miku UI自定义规则~ 0.7 12月15日 新增网速显示 新增默认铃声 升级Gboard 修复构建类型显示未知的Bug 0.6 12月8日 新增维护者和构建类型显示 同步谷歌上游对电源键改动 0.5 12月5日 更换图标 使用了基于Colorkt的Monet 桌面优化了对Colorkt Monet的支持 新增了5x6，5x7和6x6的桌面布局 在最近任务页面，新增了一键清除后台的按钮 补充部分中文翻译 修复了启动器空指针崩溃Bug 二刺螈浓度 5% up！ 0.4 12月4日 优化屏下指纹支持 优化主题资源缓存的性能 添加机器学习模型(Tensor Flow) 修复系统界面无响应的Bug 新增在多任务界面杀死App的功能 优化图标显示效果 新增临时开机动画 开放桌面的开发者调试功能 0.3 11月26日 首次更新","link":"/post/Project-Mushroom/"},{"title":"华为搞机指北(小白向)","text":"前言21日就正式开学了，已经初二下了，一天要从7:30上到20:30，生地结业考也快了，还有四个月，以后也没时间写一篇逻辑还算清楚，内容丰富详细，涵盖许多知识的文章或博客？下次这么长的图文/博客就要暑假见了。 准备什么？小白只需要一台可以运行Windows10的电脑就好力。一些极客想要进阶操作可以准备一台安装了Mac、Ubuntu、Win的电脑 解锁 这都不会小白向也拯救不了你惹。 降级 Emui 10及以上版本需要降级，Kirin960系不需要 降级到Emui 10之前的Emui 9最后一个版本 推荐电脑系统为Windows10及以上，Mac是不能降级的，但可以解BL锁，刷GSI等、、、 打开电脑，卸载原来的华为助手，下载HiSuite Proxy和HiSuite V11.0.0.530OVE解压并安装，先不要打开，先不要打开，先不要打开。 手机进入拨号输入*#*#2846579#*#*依次进入单板信息查询–&gt;版本信息找到CVersion:是什么C00或其它的，这是运营商定制版本号。 进入Huawei Firm Finder搜索你的机型型号，找到大包小包，如图。这个对不对全凭你感觉（ 打开HiSuite Proxy，添加全量包 然后再到刚刚网站上依次将三个包点击Add Rom 手机连接电脑使用一条稳定的线，手机打开开发者模式(进入关于手机连续点击版本号5次) 点击HiSuite Proxy的Setup 它会自动弹出来华为手机助手，如果没有弹出请在桌面上打开它，一路继续允许它在手机上安装《手机助手》，然后输入验证码连接。 点击系统更新，如果前面的步骤没有出错的话，不出意外它会出现你选择的版本。 等待它下载、传入安装包到手机、手机自动安装、工厂级格式化、开机。 获取解锁码并解锁渠道1、可以在淘宝、咸鱼花个二三十获取解锁码，良心商家可能会用UAndroid给你一键解锁，但我建议你让他们给你获取解锁码，因为以防日后回锁或刷挂了，救砖之后回锁了，总之解锁码一劳永逸。 2、找酷安@某贼PY一下 上手操作安装ADB 有了解锁码就可以开始这一步了。 Win版 先点击这里下载ADB，解压到C盘根目录，如图然后在电脑的开始菜单或搜索框搜索电脑信息，进入并拉到最下选择高级系统设置 点击环境变量 在第二个对话栏(系统变量)下滑找到Path 双击进去，在右面的对话框点击新建输入%adb% 按确定返回到上一个菜单，在第二个对话栏(系统变量)，点击新建，变量名输入adb，变量值输入刚刚让你把解压后的文件夹放的路径。 按确定然后可以去Powershell or CMD测试你的环境变量力不是Mac的可以跳过去刷机篇了 Mac版 从现在开始会在Mac、Ubuntu完成写作了。因为小白篇和win通用，进阶篇需要ubuntu。 安装Homebrew，打开终端输入1/bin/zsh -c &quot;$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)&quot; 输入密码，一路y(确定)结束之后输入在终端输入 1brew install cask android-platform-tools (冷知识，不知从什么时候开始brew需要将cask放在install才可以正常安装 Linux系版 ？？？你都Linux还用教吗？ 解锁BL 解锁 解锁完BL开机出现Your device booting…都是正常现象 手机重启到Fastboot 打开你刚刚配置好的Powershell或CMD或Mac终端，输入以下命令来解锁 1fastboot oem unlock #16位数字解锁码 如果不出意外的话你的手机会进入下面的界面 使用音量键选择Yes，然后它会重启到rec格式化Data结束后重启回fastboot检查PHONE Lock是否变成PHONE Unlock 回锁 1fastboot oem relock #16位数字解锁码 部分机型可能是 1fastboot oem lock #16位数字解锁码 刷机 重点介绍如何刷入Phh Treble 开始分为小白篇和进阶篇 小白篇获取GSI 先到这里Generic System Image List随便找一个你喜欢的Android9-Android12镜像，为arm64 AB分区即可，如treble_arm64_bvS，其中的b便是AB分区再简单介绍一下基于PHH编译类型 例子: treble_arm64_bvS 分解: arm64指的是平台架构、b指的是分区类型，在这里指AB，反之为a，v是指vanilla，反之g是指gapps，S指su，反之为N 上手操作 下载好你喜欢的Gsi(华为安卓12是要使用Magisk引导的)手机重启到fastboot，打开终端输入1fastboot flash system #filename 等待完成，输入1fastboot reboot 手机会自动重启，迅速按住音量上键，进入erec，选择格式化Data，输入yes 格式化完了以后就可以进入系统了(仅限Kirin960和Kirin970的安卓12以下，Kirin970的安卓12需要执行一遍Root才可以开机) 进阶篇 如果你追求极致性能，且对system分区没有读写需求的话，我们可以让system分区成为EROFS分区格式。 这一步我只简单叙述。 不仅仅适用于华为手机，对于其它手机，你的内核如果是4.19可以自己打patch启用erofs，4.19以下自行backport EROFS介绍EROFS文件系统（英文名：Enhanced Read-Only File System）是一个Linux操作系统下的只读文件系统，由华为公司研发，用来在保证嵌入式设备端到端的性能下节省存储空间，尤其是Android设备。相比其他通用文件系统，它使用了减少元数据的设计，并且提供透明压缩技术给目标文件系统用户。 上手操作 先准备好一台安装了Ubuntu20.04及以上版本的电脑，或虚拟机(虚拟机自行研究) 安装好Git 12sudo apt-get updatesudo apt-get install git lz4 python3 m4 打开终端，输入 1234mkdir tmpcd tmpwget https://github.com/xiaoleGun/Blog/releases/download/erofs/mkfs.erofs.zipunzip mkfs.erofs.zip 然后找一个你喜欢的GSI复制到tmp这个目录里如下图 继续输入 1234mkdir msudo mount -o loop,ro filename mmkdir outsudo ./mkfs.erofs -zlz4 ./out/system.img ./m 等待它将你的GSI打包为erofs分区格式然后到tmp/out目录找到它然后刷入到你的手机吧 Root 你有两个途径来获取Root，一种是在Phh treble设置–&gt;杂项–&gt;启用动态超级用户，另一种是将Rec替换为Magisk。 我主要讲解Magisk的方式，第一种就是一个选项，很简单 上手操作 下载Magsik(可能需要挂t) 打开终端输入 12fastboot flash recovery_ramdisk filenamefastboot reboot 迅速按音量上键进入erec格式化Data 解释: 只是套用华为机制的小伎俩，使重启也不会掉Magisk，原理是erec格式化Data需要重启至rec，但rec分区已经被我们替换为Magisk，所以它每次开机都会记住它需要格式化Data也就默认每次进入rec，所以我们可以重启也不会掉Magisk。 进入系统如果没有Magisk请自行下载一个Magisk可能需要你修复环境。修复即可。 至于每次弹出第三方su，请下载MT管理器到systen/xbin删除su即可(暂未发现副作用) 优化 主要是换内核及调度 Kirin960点击下载盘古内核作者为@麦麦观饭爵士: Huawei P10, P10 Plus, Mate9, Mate 9 Pro骑士: Honor 9, 8Pro (v9), Huawei Nova2S, tablet M5只需要按照对应的版本下载即可下载完之后，打开终端输入 12fastboot flash kernel filenamefastboot reboot 不出意外的话，会正常开机，请到关于本机查看内核版本号是否正确。然后你需要Root，到Magisk刷入盘古内核Spectrum调度重启后打开Spectrum选择gameing，会很丝滑，但耗电+114514 Kirin970点击下载Miku Kernel下载完之后，打开终端输入 12fastboot flash kernel filenamefastboot reboot 不出意外的话，会正常开机，请到关于本机查看内核版本号是否为Miku-Snow。 安卓12专属 你需要Root，下载Scene5按照下图进行调度配置 推荐将Quickstep设置为极速模式，这样动画丝滑流畅，其它应用使用性能即可，可自行斟酌调整频率 后记写完这些东西后有一种放松的感觉，但又想到酷安还要再排版一遍便很让人麻烦，点名酷安支持Markdown！！！","link":"/post/Fuck-Huawei/"}],"tags":[{"name":"ROM","slug":"ROM","link":"/tags/ROM/"},{"name":"GSI","slug":"GSI","link":"/tags/GSI/"}],"categories":[],"pages":[{"title":"categories","text":"","link":"/categories/index.html"},{"title":"","text":"Hi there 👋 I’m xiaoleGun 🌱 I’m learning Android~ 📫 Email: xiaolegun@qq.com 🏠 I’m a junior high school student of Beijing Yanqing No.4 middle school. A staunch communist “尊严只在剑锋之上，真理只在大炮射程之内” 🎵 Spotify 💻 Environment 📱 Devices","link":"/about/index.html"},{"title":"tags","text":"","link":"/tags/index.html"}]}